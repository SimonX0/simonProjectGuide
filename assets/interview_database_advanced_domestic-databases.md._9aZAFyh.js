import{_ as a,o as n,c as i,ag as l}from"./chunks/framework.C63nTIu3.js";const g=JSON.parse('{"title":"国产分布式数据库面试题","description":"","frontmatter":{"title":"国产分布式数据库面试题"},"headers":[],"relativePath":"interview/database/advanced/domestic-databases.md","filePath":"interview/database/advanced/domestic-databases.md","lastUpdated":1770797811000}'),e={name:"interview/database/advanced/domestic-databases.md"};function p(t,s,r,o,h,d){return n(),i("div",null,[...s[0]||(s[0]=[l(`<h1 id="国产分布式数据库面试题" tabindex="-1">国产分布式数据库面试题 <a class="header-anchor" href="#国产分布式数据库面试题" aria-label="Permalink to &quot;国产分布式数据库面试题&quot;">​</a></h1><blockquote><p><strong>难度等级</strong>：⭐⭐⭐ | <strong>出现频率</strong>：65% | <strong>建议用时</strong>：35分钟</p></blockquote><h2 id="oceanbase题" tabindex="-1">OceanBase题 <a class="header-anchor" href="#oceanbase题" aria-label="Permalink to &quot;OceanBase题&quot;">​</a></h2><h3 id="_1-oceanbase的paxos协议原理" tabindex="-1">1. OceanBase的Paxos协议原理？ <a class="header-anchor" href="#_1-oceanbase的paxos协议原理" aria-label="Permalink to &quot;1. OceanBase的Paxos协议原理？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>Paxos</strong>：分布式一致性算法</p><p><strong>三种角色</strong>：</p><ul><li><strong>Proposer（提议者）</strong>：提出提案</li><li><strong>Accepon（接受者）</strong>：投票接受/拒绝</li><li><strong>Learner（学习者）</strong>：学习最终结果</li></ul><p><strong>两个阶段</strong>： <strong>阶段一：Prepare</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Proposer -&gt; Accepon: &quot;提案编号N&quot;</span></span>
<span class="line"><span>Accepon -&gt; Proposer: &quot;Promise(承诺编号&lt;N)&quot;</span></span>
<span class="line"><span>if (收到的Promise &gt; 半数) {</span></span>
<span class="line"><span>    Proposer -&gt; Accepon: &quot;Accept(接受提案N)&quot;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>阶段二：Accept</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (Accepon收到&gt; 半数Accept) {</span></span>
<span class="line"><span>    Accepon -&gt; Learner: &quot;决议N&quot;</span></span>
<span class="line"><span>    Learner -&gt; 所有: &quot;提案N被选定&quot;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>OceanBase应用</strong>：</p><ul><li>三地五中心架构</li><li>多数派响应快</li><li>自动故障转移</li></ul><hr><h3 id="_2-oceanbase的三地五中心是什么" tabindex="-1">2. OceanBase的三地五中心是什么？ <a class="header-anchor" href="#_2-oceanbase的三地五中心是什么" aria-label="Permalink to &quot;2. OceanBase的三地五中心是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>架构</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>         [北京主区]</span></span>
<span class="line"><span>           /      \\</span></span>
<span class="line"><span>      [同城机房1] [同城机房2]</span></span>
<span class="line"><span>         \\          /</span></span>
<span class="line"><span>           [上海主区]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>两地三市</strong>：</p><ul><li>两个同城机房（距离&lt;100km）</li><li>一个异地机房（距离&gt;1000km）</li></ul><p><strong>五中心</strong>：</p><ul><li>北京主区（3副本）</li><li>北京同城区（3副本）</li><li>上海主区（3副本）</li></ul><p><strong>RPO = 0</strong>：数据零丢失 <strong>RTO &lt; 30秒</strong>：快速切换</p><p><strong>优势</strong>：</p><ul><li>城市级容灾</li><li>30秒内完成切换</li><li>数据强一致</li></ul><hr><h3 id="_3-oceanbase的分区方式有哪些" tabindex="-1">3. OceanBase的分区方式有哪些？ <a class="header-anchor" href="#_3-oceanbase的分区方式有哪些" aria-label="Permalink to &quot;3. OceanBase的分区方式有哪些？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>1. Hash分区</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 哈希分区</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> HASH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user_id) PARTITIONS </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>均匀分布数据</li><li>扩容需迁移数据</li></ul><p><strong>2. Range分区</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 范围分区（按时间）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> RANGE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(create_time) (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    PARTITION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p202301 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LESS THAN (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2024-01-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    PARTITION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p202302 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LESS THAN (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2024-02-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>按范围查询快速</li><li>可能数据倾斜</li></ul><p><strong>3. List分区</strong></p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 列表分区</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LIST(region) (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    PARTITION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p_beijing </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;北京&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;天津&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    PARTITION</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p_shanghai </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;上海&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;杭州&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>适合枚举值</li><li>手动管理分区</li></ul><p><strong>4. 二级分区（分区+分表）</strong></p><ul><li>分区内再分表</li><li>更细粒度控制</li></ul><hr><h2 id="tidb题" tabindex="-1">TiDB题 <a class="header-anchor" href="#tidb题" aria-label="Permalink to &quot;TiDB题&quot;">​</a></h2><h3 id="_4-tidb的htap架构是什么" tabindex="-1">4. TiDB的HTAP架构是什么？ <a class="header-anchor" href="#_4-tidb的htap架构是什么" aria-label="Permalink to &quot;4. TiDB的HTAP架构是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>HTAP</strong>：Hybrid Transactional/Analytical Processing（混合事务/分析处理）</p><p><strong>TiDB架构</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Client</span></span>
<span class="line"><span>  |</span></span>
<span class="line"><span>  +--&gt; SQL Layer (PD, TiDB Server)</span></span>
<span class="line"><span>           |</span></span>
<span class="line"><span>           +---&gt; KV Layer (TiKV)</span></span>
<span class="line"><span>                    |</span></span>
<span class="line"><span>                    +---&gt; Storage Engine (RocksDB)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>两行引擎</strong>：</p><p><strong>1. TP行引擎</strong></p><ul><li>处理OLPT事务（点查、范围查）</li><li>基于RocksDB</li><li>强一致性</li><li>响应快</li></ul><p><strong>2. AP行引擎</strong></p><ul><li>处理OLAP分析（聚合、报表）</li><li>基于列存（TiFlash）</li><li>最终一致（异步同步）</li><li>适合复杂查询</li></ul><p><strong>智能路由</strong>：</p><ul><li>TiDB Server根据SQL类型路由</li><li>事务 -&gt; TiKV</li><li>分析 -&gt; TiFlash</li></ul><p><strong>优势</strong>：</p><ul><li>一套系统同时支持OLTP和OLAP</li><li>无需ETL</li><li>实时分析</li></ul><hr><h3 id="_5-tidb的raft协议是什么" tabindex="-1">5. TiDB的Raft协议是什么？ <a class="header-anchor" href="#_5-tidb的raft协议是什么" aria-label="Permalink to &quot;5. TiDB的Raft协议是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>Raft</strong>：分布式一致性算法</p><p><strong>核心概念</strong>：</p><ul><li><strong>Leader（领导者）</strong>：处理所有写请求</li><li><strong>Follower（追随者）</strong>：复制Leader日志</li><li><strong>Candidate（候选者）</strong>：选举Leader</li></ul><p><strong>日志复制</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Leader -&gt; Follower: AppendEntries(log)</span></span>
<span class="line"><span>Follower -&gt; Leader: AppendEntries(success)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>选举过程</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. Follower超时未收到Leader心跳</span></span>
<span class="line"><span>2. Follower转为Candidate</span></span>
<span class="line"><span>3. Candidate向所有节点请求投票</span></span>
<span class="line"><span>4. 获多数投票成为Leader</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>TiDB应用</strong>：</p><ul><li>每个TiKV Region使用Raft</li><li>3副本默认</li><li>自动Leader选举</li><li>强一致性</li></ul><hr><h2 id="达梦数据库题" tabindex="-1">达梦数据库题 <a class="header-anchor" href="#达梦数据库题" aria-label="Permalink to &quot;达梦数据库题&quot;">​</a></h2><h3 id="_6-达梦与oracle的兼容性" tabindex="-1">6. 达梦与Oracle的兼容性？ <a class="header-anchor" href="#_6-达梦与oracle的兼容性" aria-label="Permalink to &quot;6. 达梦与Oracle的兼容性？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>兼容性</strong>：</p><ul><li>PL/SQL语法兼容</li><li>数据类型兼容（NUMBER、VARCHAR2等）</li><li>函数兼容（SYSDATE、NVL等）</li><li>触发器兼容</li></ul><p><strong>数据类型映射</strong>：</p><table tabindex="0"><thead><tr><th>Oracle</th><th>达梦DM8</th></tr></thead><tbody><tr><td>NUMBER</td><td>DECIMAL/NUMERIC</td></tr><tr><td>VARCHAR2</td><td>VARCHAR2</td></tr><tr><td>DATE</td><td>DATETIME</td></tr><tr><td>CLOB</td><td>CLOB</td></tr><tr><td>BLOB</td><td>BLOB</td></tr></tbody></table><p><strong>语法差异</strong>：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Oracle</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ROWNUM </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 达梦</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>迁移注意</strong>：</p><ul><li>使用DM数据迁移工具</li><li>检查函数兼容性</li><li>存储过程需要调整</li><li>测试性能对比</li></ul><hr><h3 id="_7-达梦的dsc是什么" tabindex="-1">7. 达梦的DSC是什么？ <a class="header-anchor" href="#_7-达梦的dsc是什么" aria-label="Permalink to &quot;7. 达梦的DSC是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>DSC（Data Shared Cluster）</strong>：达梦共享集群</p><p><strong>架构</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[节点1] [节点2] [节点3]</span></span>
<span class="line"><span>    \\        |        /</span></span>
<span class="line"><span>    [共享存储]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>特点</strong>：</p><ul><li>多节点共享同一份数据</li><li>无主从之分</li><li>所有节点可读写</li><li>故障自动切换</li></ul><p><strong>优势</strong>：</p><ul><li>资源利用率高（不浪费从库）</li><li>读写性能均提升</li><li>高可用</li></ul><hr><h2 id="人大金仓题" tabindex="-1">人大金仓题 <a class="header-anchor" href="#人大金仓题" aria-label="Permalink to &quot;人大金仓题&quot;">​</a></h2><h3 id="_8-kingbasees的三大权分立是什么" tabindex="-1">8. KingbaseES的三大权分立是什么？ <a class="header-anchor" href="#_8-kingbasees的三大权分立是什么" aria-label="Permalink to &quot;8. KingbaseES的三大权分立是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>三权分立</strong>：系统管理员、安全管理员、审计管理员分离</p><p><strong>1. 系统管理员（SYSADMIN）</strong></p><ul><li>创建数据库、用户</li><li>管理数据库配置</li><li>不能审计普通用户</li></ul><p><strong>2. 安全管理员（SECURITYADMIN）</strong></p><ul><li>创建角色、权限</li><li>配置安全策略</li><li>不能访问用户数据</li></ul><p><strong>3. 审计管理员（AUDITOR）</strong></p><ul><li>审计日志查看</li><li>审计策略配置</li><li>不能修改数据</li></ul><p><strong>优势</strong>：</p><ul><li>权限隔离，防内部滥用</li><li>满足等保要求</li><li>审计可追溯</li></ul><hr><h3 id="_9-kingbasees的oracle兼容模式" tabindex="-1">9. KingbaseES的Oracle兼容模式？ <a class="header-anchor" href="#_9-kingbasees的oracle兼容模式" aria-label="Permalink to &quot;9. KingbaseES的Oracle兼容模式？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>兼容模式</strong>：</p><ul><li><strong>PG模式</strong>：兼容PostgreSQL（默认）</li><li><strong>Oracle模式</strong>：兼容Oracle语法</li></ul><p><strong>切换Oracle模式</strong>：</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 设置兼容级别</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> compatibility_mode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;oracle&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Oracle函数可用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NVL(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;未知&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 等同于COALESCE(name, &#39;未知&#39;)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>特点</strong>：</p><ul><li>支持Oracle存储过程</li><li>支持Oracle触发器</li><li>数据类型映射</li><li>SQL方言切换</li></ul><hr><h2 id="opengauss题" tabindex="-1">openGauss题 <a class="header-anchor" href="#opengauss题" aria-label="Permalink to &quot;openGauss题&quot;">​</a></h2><h3 id="_10-opengauss的ai4db是什么" tabindex="-1">10. openGauss的AI4DB是什么？ <a class="header-anchor" href="#_10-opengauss的ai4db是什么" aria-label="Permalink to &quot;10. openGauss的AI4DB是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>AI4DB</strong>：AI驱动的数据库优化</p><p><strong>功能</strong>：</p><ul><li><strong>智能索引推荐</strong>：基于Workload分析推荐索引</li><li><strong>智能查询优化</strong>：AI优化执行计划</li><li><strong>异常检测</strong>：自动检测性能异常</li><li><strong>参数自调优</strong>：根据负载自动调整参数</li></ul><p><strong>优势</strong>：</p><ul><li>减少DBA工作量</li><li>自动性能优化</li><li>预测性能问题</li></ul><hr><h3 id="_11-opengauss的全密态是什么" tabindex="-1">11. openGauss的全密态是什么？ <a class="header-anchor" href="#_11-opengauss的全密态是什么" aria-label="Permalink to &quot;11. openGauss的全密态是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>全密态</strong>：端到端加密</p><p><strong>加密层次</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>客户端 -&gt; [传输加密] -&gt; 数据库 -&gt; [存储加密] -&gt; 磁盘</span></span>
<span class="line"><span>           |                |</span></span>
<span class="line"><span>      [密钥管理中心]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>特点</strong>：</p><ul><li>客户端数据全程加密</li><li>密钥由第三方管理</li><li>DBA无法看到明文数据</li><li>存储和传输加密</li></ul><p><strong>场景</strong>：</p><ul><li>金融、政府等高安全要求</li><li>个人隐私保护</li><li>等保四级要求</li></ul><hr><h2 id="tdsql题" tabindex="-1">TDSQL题 <a class="header-anchor" href="#tdsql题" aria-label="Permalink to &quot;TDSQL题&quot;">​</a></h2><h3 id="_12-tdsql的单元化是什么" tabindex="-1">12. TDSQL的单元化是什么？ <a class="header-anchor" href="#_12-tdsql的单元化是什么" aria-label="Permalink to &quot;12. TDSQL的单元化是什么？&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>单元化（Set）</strong>：按业务单元拆分数据库</p><p><strong>架构</strong>：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[单元1: 用户库] [单元2: 订单库] [单元3: 商品库]</span></span>
<span class="line"><span>     |               |                |</span></span>
<span class="line"><span>[全量只读实例]    [全量只读实例]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>特点</strong>：</p><ul><li>每个单元独立数据库</li><li>单元内强一致</li><li>单元间最终一致（通过消息）</li><li>单元故障不影响其他单元</li></ul><p><strong>优势</strong>：</p><ul><li>故障隔离</li><li>独立扩展</li><li>灵活容灾</li></ul><p><strong>Gossip协议</strong>：</p><ul><li>单元间通信</li><li>自动故障检测</li><li>请求路由</li></ul><hr><h2 id="实战场景题" tabindex="-1">实战场景题 <a class="header-anchor" href="#实战场景题" aria-label="Permalink to &quot;实战场景题&quot;">​</a></h2><h3 id="_13-设计一个金融级数据库架构" tabindex="-1">13. 设计一个金融级数据库架构 <a class="header-anchor" href="#_13-设计一个金融级数据库架构" aria-label="Permalink to &quot;13. 设计一个金融级数据库架构&quot;">​</a></h3><p><strong>参考答案</strong>：</p><p><strong>需求</strong>：</p><ul><li>强一致性</li><li>高可用（RPO=0, RTO&lt;30秒）</li><li>容灾能力</li><li>国产化要求</li></ul><p><strong>方案1：OceanBase三地五中心</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[北京主区: 3副本]</span></span>
<span class="line"><span>[北京同城区: 3副本] -&gt; [上海主区: 3副本]</span></span>
<span class="line"><span>[上海同城区: 3副本]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>RPO=0：数据零丢失</li><li>RTO&lt;30秒：自动切换</li><li>性价比高</li></ul><p><strong>方案2：达梦DSC集群</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[节点1] [节点2] [节点3]</span></span>
<span class="line"><span>    \\    |    /</span></span>
<span class="line"><span>[共享存储: ASM/集群文件系统]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>读写负载均衡</li><li>节点故障自动切换</li><li>成本较低</li></ul><p><strong>方案3：TiDB HTAP</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[应用]</span></span>
<span class="line"><span>  |</span></span>
<span class="line"><span>  +---&gt; [TiDB Server]</span></span>
<span class="line"><span>           |</span></span>
<span class="line"><span>    +---&gt; [TiKV: TP] [TiFlash: AP]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>同时支持OLTP和OLAP</li><li>实时分析能力</li><li>自动扩容</li></ul><hr><p><strong>更新时间</strong>：2026年2月 | <strong>版本</strong>：v1.0</p>`,161)])])}const u=a(e,[["render",p]]);export{g as __pageData,u as default};
