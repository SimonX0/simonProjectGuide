# ç¬¬3ç« ï¼šPrompt EngineeringæŠ€å·§

## æœ¬ç« å¯¼è¯»

**Prompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰** æ˜¯AIåº”ç”¨å¼€å‘ä¸­æœ€é‡è¦çš„æŠ€èƒ½ä¹‹ä¸€ã€‚å¥½çš„æç¤ºè¯èƒ½è®©AIå‘æŒ¥å‡ºå¼ºå¤§èƒ½åŠ›ï¼Œè€Œä¸å¥½çš„æç¤ºè¯åˆ™ä¼šå¯¼è‡´æ¨¡ç³Šã€ä¸å‡†ç¡®çš„å›ç­”ã€‚

æœ¬ç« å°†ç³»ç»Ÿä»‹ç»å¦‚ä½•è®¾è®¡é«˜æ•ˆçš„æç¤ºè¯ï¼Œè®©ä½ çš„AIåº”ç”¨æ•ˆæœæå‡10å€ï¼

**å­¦ä¹ ç›®æ ‡**ï¼š
- ç†è§£Prompt Engineeringçš„æ ¸å¿ƒåŸåˆ™
- æŒæ¡å¸¸ç”¨çš„æç¤ºè¯æ¨¡å¼
- å­¦ä¹ Few-shot LearningæŠ€å·§
- å®ç°é«˜çº§æç¤ºè¯ç­–ç•¥

**é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼š50åˆ†é’Ÿ

---

## 3.1 ä»€ä¹ˆæ˜¯Prompt Engineeringï¼Ÿ

### 3.1.1 Prompt Engineeringçš„å®šä¹‰

**Prompt Engineering** æ˜¯æŒ‡é€šè¿‡è®¾è®¡å’Œä¼˜åŒ–è¾“å…¥ç»™å¤§è¯­è¨€æ¨¡å‹çš„æç¤ºè¯ï¼Œä»¥å¼•å¯¼æ¨¡å‹ç”Ÿæˆæ›´å‡†ç¡®ã€æ›´ç›¸å…³ã€æ›´ç¬¦åˆé¢„æœŸçš„è¾“å‡ºçš„æŠ€æœ¯ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Prompt Engineering çš„ä»·å€¼            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  âŒ å·®çš„Promptï¼š                          â”‚
â”‚  "å†™ä¸ªçˆ¬è™«"                              â”‚
â”‚  â†’ ç»“æœï¼šå¯èƒ½æ˜¯ç½‘é¡µçˆ¬è™«ã€å›¾ç‰‡çˆ¬è™«...       â”‚
â”‚                                          â”‚
â”‚  âœ… å¥½çš„Promptï¼š                          â”‚
â”‚  "è¯·ç”¨Pythonå†™ä¸€ä¸ªç½‘é¡µçˆ¬è™«ï¼Œè¦æ±‚ï¼š         â”‚
â”‚   - ä½¿ç”¨requestsåº“                        â”‚
â”‚   - æ”¯æŒuser-agentè®¾ç½®                    â”‚
â”‚   - åŒ…å«é”™è¯¯å¤„ç†                          â”‚
â”‚   - æ·»åŠ ä»£ç æ³¨é‡Šå’Œä½¿ç”¨ç¤ºä¾‹"                â”‚
â”‚  â†’ ç»“æœï¼šç²¾ç¡®ç¬¦åˆéœ€æ±‚çš„ä»£ç                â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.1.2 ä¸ºä»€ä¹ˆPrompt Engineeringå¾ˆé‡è¦ï¼Ÿ

| æ–¹é¢ | è¯´æ˜ |
|------|------|
| **æ•ˆæœæå‡** | å¥½çš„Promptèƒ½è®©è¾“å‡ºè´¨é‡æå‡3-10å€ |
| **æˆæœ¬èŠ‚çº¦** | ç²¾ç¡®çš„Promptå‡å°‘Tokenæ¶ˆè€— |
| **å‡å°‘é‡è¯•** | ä¸€æ¬¡å¾—åˆ°æ»¡æ„ç»“æœï¼ŒèŠ‚çœæ—¶é—´ |
| **å¯æ§æ€§** | è®©AIè¾“å‡ºæ›´ç¬¦åˆä½ çš„é¢„æœŸ |
| **ç¨³å®šæ€§** | ä¸€è‡´çš„Promptå¸¦æ¥ä¸€è‡´çš„è¾“å‡º |

### 3.1.3 Promptçš„åŸºæœ¬ç»“æ„

ä¸€ä¸ªæœ‰æ•ˆçš„Prompté€šå¸¸åŒ…å«ä»¥ä¸‹è¦ç´ ï¼š

```python
# å®Œæ•´çš„Promptç»“æ„
prompt = """
{è§’è‰²è®¾å®š}
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Pythonç¼–ç¨‹ä¸“å®¶ï¼Œæ“…é•¿æ•™å­¦å’Œä»£ç ä¼˜åŒ–ã€‚

{ä»»åŠ¡æè¿°}
è¯·è§£é‡ŠPythonè£…é¥°å™¨çš„æ¦‚å¿µï¼Œå¹¶æä¾›ä¸‰ä¸ªå®é™…åº”ç”¨åœºæ™¯ã€‚

{è¾“å…¥æ•°æ®}
æ— 

{è¾“å‡ºè¦æ±‚}
- ä½¿ç”¨é€šä¿—æ˜“æ‡‚çš„è¯­è¨€
- æ¯ä¸ªåœºæ™¯åŒ…å«ä»£ç ç¤ºä¾‹
- æ€»å­—æ•°ä¸è¶…è¿‡500å­—

{çº¦æŸæ¡ä»¶}
- ä¸è¦æ¶‰åŠå…ƒç±»ç­‰é«˜çº§æ¦‚å¿µ
- é‡ç‚¹è®²è§£ä½¿ç”¨åœºæ™¯è€Œéè¯­æ³•ç»†èŠ‚
- ä½¿ç”¨emojiå¢åŠ å¯è¯»æ€§

{ç¤ºä¾‹æ ¼å¼}
## è£…é¥°å™¨æ˜¯ä»€ä¹ˆ
...

## åº”ç”¨åœºæ™¯1ï¼šè®¡æ—¶å™¨
...
"""
```

---

## 3.2 Promptè®¾è®¡çš„æ ¸å¿ƒåŸåˆ™

### 3.2.1 åŸåˆ™1ï¼šæ¸…æ™°å…·ä½“ï¼ˆBe Specificï¼‰

âŒ **ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = "å†™ä¸€ä¸ªçˆ¬è™«"
```
é—®é¢˜ï¼š
- ä»€ä¹ˆç±»å‹çš„çˆ¬è™«ï¼Ÿ
- çˆ¬å–ä»€ä¹ˆæ•°æ®ï¼Ÿ
- ç”¨ä»€ä¹ˆè¯­è¨€ï¼Ÿ

âœ… **å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = """
è¯·ç”¨Pythonç¼–å†™ä¸€ä¸ªç½‘é¡µçˆ¬è™«ï¼Œå…·ä½“è¦æ±‚ï¼š

ç›®æ ‡ç½‘ç«™ï¼šè±†ç“£ç”µå½±Top250
éœ€è¦æå–ï¼š
  - ç”µå½±åç§°
  - è¯„åˆ†
  - å¯¼æ¼”å’Œä¸»æ¼”
  - ä¸€å¥è¯ç®€ä»‹

æŠ€æœ¯è¦æ±‚ï¼š
  - ä½¿ç”¨requests + BeautifulSoup
  - æ·»åŠ é€‚å½“çš„å»¶æ—¶ï¼ˆéšæœº2-5ç§’ï¼‰
  - åŒ…å«å¼‚å¸¸å¤„ç†
  - æ•°æ®ä¿å­˜ä¸ºCSVæ ¼å¼

é™„åŠ è¦æ±‚ï¼š
  - æ·»åŠ è¯¦ç»†æ³¨é‡Š
  - æä¾›ä½¿ç”¨ç¤ºä¾‹
"""
```

### 3.2.2 åŸåˆ™2ï¼šæä¾›ä¸Šä¸‹æ–‡ï¼ˆProvide Contextï¼‰

âŒ **ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = "è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ"
```

âœ… **å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = """
æˆ‘æ˜¯Pythonåˆå­¦è€…ï¼Œå†™äº†ä»¥ä¸‹ä»£ç å®ç°å†’æ³¡æ’åºï¼Œä½†è¿è¡Œç»“æœä¸å¯¹ã€‚

è¯·å¸®æˆ‘ï¼š
1. æŒ‡å‡ºä»£ç ä¸­çš„é—®é¢˜
2. è§£é‡Šä¸ºä»€ä¹ˆä¼šè¿™æ ·
3. æä¾›ä¿®å¤åçš„ä»£ç 
4. ç»™å‡ºé¿å…æ­¤ç±»é—®é¢˜çš„å»ºè®®

ä»£ç ï¼š
```python
def bubble_sort(arr):
    n = len(arr)
    for i in range(n):
        for j in range(n):
            if arr[j] > arr[j+1]:
                arr[j], arr[j+1] = arr[j+1], arr[j]
    return arr

# æµ‹è¯•
print(bubble_sort([5, 2, 8, 1, 9]))
```
"""
```

### 3.2.3 åŸåˆ™3ï¼šæ˜ç¡®è¾“å‡ºæ ¼å¼ï¼ˆSpecify Output Formatï¼‰

âŒ **ä¸å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = "åˆ†æè¿™æ®µæ–‡æœ¬çš„æƒ…æ„Ÿ"
```

âœ… **å¥½çš„ç¤ºä¾‹**ï¼š
```python
prompt = """
åˆ†æä»¥ä¸‹æ–‡æœ¬çš„æƒ…æ„Ÿå€¾å‘ï¼š

æ–‡æœ¬å†…å®¹ï¼šä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œé˜³å…‰æ˜åªšï¼Œå¿ƒæƒ…ç‰¹åˆ«æ£’ï¼

è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š
```json
{
    "æƒ…æ„Ÿå€¾å‘": "æ­£é¢/è´Ÿé¢/ä¸­æ€§",
    "æƒ…æ„Ÿå¼ºåº¦": "å¼º/ä¸­/å¼±",
    "å…³é”®è¯": ["å…³é”®è¯1", "å…³é”®è¯2"],
    "ç½®ä¿¡åº¦": 0.95
}
```
"""
```

### 3.2.4 åŸåˆ™4ï¼šä½¿ç”¨ç¤ºä¾‹ï¼ˆUse Examplesï¼‰

æä¾›ç¤ºä¾‹è®©AIæ›´å¥½åœ°ç†è§£ä½ çš„æœŸæœ›ã€‚

```python
prompt = """
ä»»åŠ¡ï¼šå°†ä»¥ä¸‹Pythonå‡½æ•°è½¬æ¢ä¸ºåˆ—è¡¨æ¨å¯¼å¼

ç¤ºä¾‹1ï¼š
è¾“å…¥ï¼š
```python
squares = []
for i in range(10):
    squares.append(i**2)
```

è¾“å‡ºï¼š
```python
squares = [i**2 for i in range(10)]
```

ç¤ºä¾‹2ï¼š
è¾“å…¥ï¼š
```python
evens = []
for i in range(20):
    if i % 2 == 0:
        evens.append(i)
```

è¾“å‡ºï¼š
```python
evens = [i for i in range(20) if i % 2 == 0]
```

ç°åœ¨è¯·è½¬æ¢ä»¥ä¸‹ä»£ç ï¼š
ã€ä½ çš„ä»£ç ã€‘
"""
```

### 3.2.5 åŸåˆ™5ï¼šè®¾å®šè§’è‰²ï¼ˆAssign a Roleï¼‰

```python
# è§’è‰²åŒ–æç¤ºè¯æ•ˆæœæ›´å¥½
prompts = {
    "æ— è§’è‰²": "è§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ",

    "ä¸“å®¶è§’è‰²": """
    ä½ æ˜¯ä¸€ä½æœ‰10å¹´ç»éªŒçš„æœºå™¨å­¦ä¹ ä¸“å®¶ï¼Œæ›¾åœ¨Googleå’ŒMetaå·¥ä½œã€‚
    è¯·ç”¨é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Œé€‚åˆåˆå­¦è€…ç†è§£ã€‚
    """,

    "è€å¸ˆè§’è‰²": """
    ä½ æ˜¯ä¸€ä½å¤§å­¦è®¡ç®—æœºç³»æ•™æˆï¼Œæ“…é•¿ç”¨æ¯”å–»å’Œå®ä¾‹è®²è§£å¤æ‚æ¦‚å¿µã€‚
    è¯·åƒç»™å¤§ä¸€å­¦ç”Ÿä¸Šè¯¾ä¸€æ ·ï¼Œè§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ã€‚
    """,

    "å­©å­è§’è‰²": """
    ä½ æ˜¯ä¸€ä½å°å­¦ç§‘å­¦è€å¸ˆï¼Œæ“…é•¿ç”¨ç®€å•çš„è¯­è¨€å’Œæœ‰è¶£çš„æ•…äº‹è§£é‡ŠçŸ¥è¯†ã€‚
    è¯·ç”¨5å²å­©å­èƒ½ç†è§£çš„æ–¹å¼è§£é‡Šä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ã€‚
    """
}
```

---

## 3.3 å¸¸ç”¨æç¤ºè¯æ¨¡å¼

### 3.3.1 æ¨¡å¼1ï¼šæ€ç»´é“¾ï¼ˆChain of Thoughtï¼‰

å¼•å¯¼AIå±•ç¤ºæ¨ç†è¿‡ç¨‹ï¼Œæé«˜å¤æ‚é—®é¢˜çš„å‡†ç¡®ç‡ã€‚

```python
# åŸºç¡€ç‰ˆCoT
prompt = """
å°æ˜æœ‰5ä¸ªè‹¹æœï¼Œä»–ç»™äº†å°çº¢2ä¸ªï¼Œåˆä¹°äº†3ä¸ªï¼Œåƒæ‰äº†1ä¸ªã€‚
è¯·é—®å°æ˜ç°åœ¨æœ‰å‡ ä¸ªè‹¹æœï¼Ÿ

è¯·ä¸€æ­¥æ­¥æ€è€ƒå¹¶ç»™å‡ºç­”æ¡ˆã€‚
"""

# AIè¾“å‡ºï¼š
"""
è®©æˆ‘ä¸€æ­¥æ­¥è®¡ç®—ï¼š

1. åˆå§‹ï¼šå°æ˜æœ‰5ä¸ªè‹¹æœ
2. ç»™å°çº¢ï¼š5 - 2 = 3ä¸ª
3. ä¹°äº†3ä¸ªï¼š3 + 3 = 6ä¸ª
4. åƒæ‰1ä¸ªï¼š6 - 1 = 5ä¸ª

ç­”æ¡ˆï¼šå°æ˜ç°åœ¨æœ‰5ä¸ªè‹¹æœ
"""
```

### 3.3.2 æ¨¡å¼2ï¼šFew-shot Learning

æä¾›å°‘é‡ç¤ºä¾‹ï¼Œè®©AIå¿«é€Ÿå­¦ä¹ ä»»åŠ¡æ¨¡å¼ã€‚

```python
# æƒ…æ„Ÿåˆ†æFew-shotç¤ºä¾‹
prompt = """
ä»»åŠ¡ï¼šåˆ¤æ–­è¯„è®ºçš„æƒ…æ„Ÿå€¾å‘

ç¤ºä¾‹1ï¼š
è¯„è®ºï¼š"è¿™ä¸ªäº§å“å¤ªæ£’äº†ï¼Œå¼ºçƒˆæ¨èï¼"
æ ‡ç­¾ï¼šæ­£é¢

ç¤ºä¾‹2ï¼š
è¯„è®ºï¼š"è´¨é‡å¾ˆå·®ï¼Œä¸æ¨èè´­ä¹°ã€‚"
æ ‡ç­¾ï¼šè´Ÿé¢

ç¤ºä¾‹3ï¼š
è¯„è®ºï¼š"ä¸€èˆ¬èˆ¬ï¼Œå‡‘åˆèƒ½ç”¨ã€‚"
æ ‡ç­¾ï¼šä¸­æ€§

ç°åœ¨è¯·åˆ¤æ–­ä»¥ä¸‹è¯„è®ºï¼š
è¯„è®ºï¼š"è¶…å‡ºé¢„æœŸï¼Œä¼šç»§ç»­æ”¯æŒï¼"
æ ‡ç­¾ï¼š"""

# AIè¾“å‡ºï¼šæ­£é¢
```

### 3.3.3 æ¨¡å¼3ï¼šSelf-Consistencyï¼ˆè‡ªæ´½æ€§ï¼‰

è®©AIå¤šæ¬¡ç”Ÿæˆç­”æ¡ˆï¼Œé€‰æ‹©æœ€ä¸€è‡´çš„ç»“æœã€‚

```python
# å®é™…åº”ç”¨ä¸­éœ€è¦å¤šæ¬¡è°ƒç”¨
prompt = """
ç”¨Pythonå®ç°å¿«é€Ÿæ’åºç®—æ³•ã€‚

è¯·æä¾›3ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼š
1. é€’å½’ç‰ˆæœ¬
2. ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼
3. ä½¿ç”¨filterå‡½æ•°

æ¯ç§æ–¹å¼éƒ½è¦åŒ…å«ï¼š
- å®Œæ•´ä»£ç 
- æ—¶é—´å¤æ‚åº¦åˆ†æ
- ä¼˜ç¼ºç‚¹è¯´æ˜
"""
```

### 3.3.4 æ¨¡å¼4ï¼šGenerate Then Refineå…ˆç”Ÿæˆåä¼˜åŒ–

å…ˆç”Ÿæˆåˆç¨¿ï¼Œå†è¿›è¡Œä¼˜åŒ–ã€‚

```python
# Step 1: ç”Ÿæˆåˆç¨¿
draft_prompt = """
å†™ä¸€ç¯‡ä»‹ç»Pythonè£…é¥°å™¨çš„æ–‡ç« ï¼Œ300å­—å·¦å³ã€‚
"""

# Step 2: ä¼˜åŒ–
refine_prompt = """
ä»¥ä¸‹æ˜¯å…³äºPythonè£…é¥°å™¨çš„åˆç¨¿ï¼š

ã€åˆç¨¿å†…å®¹ã€‘

è¯·ä¼˜åŒ–è¿™ç¯‡æ–‡ç« ï¼š
1. æ·»åŠ ä»£ç ç¤ºä¾‹
2. ä½¿ç”¨æ›´ç”ŸåŠ¨çš„æ¯”å–»
3. æ·»åŠ å¸¸è§åº”ç”¨åœºæ™¯
4. æ€»å­—æ•°æ‰©å±•åˆ°500å­—
5. ä½¿ç”¨å°æ ‡é¢˜åˆ†æ®µ
"""
```

### 3.3.5 æ¨¡å¼5ï¼šRole Playingï¼ˆè§’è‰²æ‰®æ¼”ï¼‰

```python
# æŠ€æœ¯é¢è¯•
interview_prompt = """
ä½ ç°åœ¨æ˜¯Googleçš„æŠ€æœ¯é¢è¯•å®˜ï¼Œæ­£åœ¨é¢è¯•ä¸€ä½Pythonå·¥ç¨‹å¸ˆã€‚

è¯·æ ¹æ®ä»¥ä¸‹JDè®¾è®¡5é“é¢è¯•é¢˜ï¼š
èŒä½ï¼šPythonåç«¯å·¥ç¨‹å¸ˆ
è¦æ±‚ï¼š
  - ç²¾é€šPythonåŸºç¡€
  - ç†Ÿæ‚‰Django/Flaskæ¡†æ¶
  - äº†è§£æ•°æ®åº“è®¾è®¡
  - æœ‰é«˜å¹¶å‘ç»éªŒåŠ åˆ†

è¯·ï¼š
1. ä»ç®€å•åˆ°å›°éš¾æ’åºé¢˜ç›®
2. åŒ…å«å‚è€ƒç­”æ¡ˆ
3. è¯„ä¼°æ¯ä¸ªé—®é¢˜çš„éš¾åº¦ï¼ˆ1-5æ˜Ÿï¼‰
"""

# ä»£ç å®¡æŸ¥
review_prompt = """
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ä»£ç å®¡æŸ¥å·¥ç¨‹å¸ˆï¼Œè´Ÿè´£å›¢é˜Ÿä»£ç è´¨é‡ã€‚

è¯·å®¡æŸ¥ä»¥ä¸‹Pythonä»£ç ï¼Œä»ä»¥ä¸‹è§’åº¦ç»™å‡ºåé¦ˆï¼š
1. ä»£ç é£æ ¼
2. æ½œåœ¨bug
3. æ€§èƒ½é—®é¢˜
4. å¯è¯»æ€§
5. æ”¹è¿›å»ºè®®

ã€ä»£ç ã€‘
"""
```

---

## 3.4 é«˜çº§æŠ€å·§

### 3.4.1 æŠ€å·§1ï¼šæ€ç»´æ ‘ï¼ˆTree of Thoughtsï¼‰

è®©AIæ¢ç´¢å¤šä¸ªå¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œç„¶åé€‰æ‹©æœ€ä¼˜çš„ã€‚

```python
prompt = """
é—®é¢˜ï¼šå¦‚ä½•ç”¨Pythonå®ç°ä¸€ä¸ªé«˜æ•ˆçš„ç¼“å­˜ç³»ç»Ÿï¼Ÿ

è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ€è€ƒï¼š

æ­¥éª¤1ï¼šåˆ—å‡º3-5ç§å¯èƒ½çš„å®ç°æ–¹æ¡ˆ
æ­¥éª¤2ï¼šåˆ†ææ¯ç§æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹
æ­¥éª¤3ï¼šè¯„ä¼°æ¯ç§æ–¹æ¡ˆçš„é€‚ç”¨åœºæ™¯
æ­¥éª¤4ï¼šç»™å‡ºæœ€ä¼˜æ–¹æ¡ˆåŠå®Œæ•´ä»£ç 

è¯·è¯¦ç»†å±•å¼€æ¯ä¸ªæ­¥éª¤ã€‚
"""
```

### 3.4.2 æŠ€å·§2ï¼šé€†å‘æç¤ºï¼ˆReverse Promptingï¼‰

å…ˆè®©AIç”Ÿæˆç­”æ¡ˆï¼Œå†åæ¨é—®é¢˜æˆ–æ”¹è¿›ã€‚

```python
# é€†å‘ç”Ÿæˆé—®é¢˜
prompt = """
ç»™å®šä»¥ä¸‹Pythonä»£ç ï¼š

```python
def memoize(func):
    cache = {}
    def wrapper(*args):
        if args not in cache:
            cache[args] = func(*args)
        return cache[args]
    return wrapper
```

è¯·ï¼š
1. è§£é‡Šè¿™æ®µä»£ç çš„ä½œç”¨
2. æ„é€ 3ä¸ªåˆé€‚çš„ä½¿ç”¨åœºæ™¯
3. ä¸ºæ¯ä¸ªåœºæ™¯æä¾›ç¤ºä¾‹ä»£ç 
4. æ€»ç»“è¿™ä¸ªå‡½æ•°çš„ä¼˜ç¼ºç‚¹
"""
```

### 3.4.3 æŠ€å·§3ï¼šæ¸è¿›å¼æç¤ºï¼ˆProgressive Promptingï¼‰

ä»ç®€å•åˆ°å¤æ‚ï¼Œé€æ­¥å¼•å¯¼AIã€‚

```python
# Level 1: åŸºç¡€æ¦‚å¿µ
level1 = "ä»€ä¹ˆæ˜¯Pythonè£…é¥°å™¨ï¼Ÿ"

# Level 2: ç®€å•åº”ç”¨
level2 = """
ç°åœ¨æˆ‘ç†è§£äº†è£…é¥°å™¨çš„åŸºæœ¬æ¦‚å¿µã€‚
è¯·æä¾›ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ç¤ºä¾‹ï¼Œç”¨äºè®¡æ—¶å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚
"""

# Level 3: å¤æ‚åº”ç”¨
level3 = """
å¾ˆå¥½ï¼ç°åœ¨æˆ‘éœ€è¦ï¼š
1. ä¸€ä¸ªå¯ä»¥æ¥å—å‚æ•°çš„è£…é¥°å™¨
2. ç”¨äºé‡è¯•å‡½æ•°æ‰§è¡Œ
3. æ”¯æŒè‡ªå®šä¹‰é‡è¯•æ¬¡æ•°å’Œå»¶æ—¶
è¯·ç»™å‡ºå®Œæ•´å®ç°ã€‚
"""

# Level 4: å®æˆ˜ä¼˜åŒ–
level4 = """
æˆ‘ç°åœ¨æœ‰è¿™ä¸ªé‡è¯•è£…é¥°å™¨ã€‚
è¯·å¸®æˆ‘ï¼š
1. æ·»åŠ æŒ‡æ•°é€€é¿ç­–ç•¥
2. è®°å½•æ¯æ¬¡é‡è¯•çš„æ—¥å¿—
3. å¤„ç†ç‰¹å®šå¼‚å¸¸ç±»å‹
4. æä¾›ä½¿ç”¨ç¤ºä¾‹
"""
```

### 3.4.4 æŠ€å·§4ï¼šæ¯”è¾ƒå¼æç¤ºï¼ˆComparative Promptingï¼‰

è®©AIå¯¹æ¯”ä¸åŒæ–¹æ¡ˆã€‚

```python
prompt = """
è¯·å¯¹æ¯”ä»¥ä¸‹ä¸‰ç§Pythonå¼‚æ­¥ç¼–ç¨‹æ–¹å¼ï¼š

1. asyncio + async/await
2. concurrent.futures
3. multiprocessing

ä»ä»¥ä¸‹ç»´åº¦å¯¹æ¯”ï¼š
- ä½¿ç”¨éš¾åº¦ï¼ˆ1-5åˆ†ï¼‰
- æ€§èƒ½è¡¨ç°
- å†…å­˜å ç”¨
- é€‚ç”¨åœºæ™¯
- ä»£ç ç¤ºä¾‹

è¯·ä½¿ç”¨è¡¨æ ¼å½¢å¼å‘ˆç°å¯¹æ¯”ç»“æœã€‚
"""
```

### 3.4.5 æŠ€å·§5ï¼šåæ€ä¸æ”¹è¿›ï¼ˆReflection and Improvementï¼‰

```python
prompt = """
ã€ä»»åŠ¡ã€‘
è¯·è®¾è®¡ä¸€ä¸ªPythonç±»çš„å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿã€‚

ã€è¦æ±‚ã€‘
1. æ”¯æŒæ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢å­¦ç”Ÿ
2. æ”¯æŒæˆç»©ç»Ÿè®¡ï¼ˆå¹³å‡åˆ†ã€æœ€é«˜åˆ†ç­‰ï¼‰
3. æ”¯æŒæˆç»©æ’åº
4. ä»£ç è¦æ¸…æ™°æ˜“è¯»

ã€é‡è¦ã€‘
åœ¨æä¾›ä»£ç åï¼Œè¯·ï¼š
1. è‡ªæˆ‘å®¡æŸ¥ä»£ç çš„ä¸è¶³ä¹‹å¤„
2. æŒ‡å‡ºå¯èƒ½çš„bug
3. æä¾›æ”¹è¿›ç‰ˆæœ¬
4. æ€»ç»“å…³é”®æ”¹è¿›ç‚¹
"""
```

---

## 3.5 ä¸åŒåœºæ™¯çš„Promptæ¨¡æ¿

### 3.5.1 ä»£ç ç”Ÿæˆ

```python
code_gen_prompt = """
# è§’è‰²è®¾å®š
ä½ æ˜¯ä¸€ä½{language}ç¼–ç¨‹ä¸“å®¶ï¼Œæ‹¥æœ‰10å¹´å¼€å‘ç»éªŒã€‚

# ä»»åŠ¡
{task_description}

# æŠ€æœ¯è¦æ±‚
- è¯­è¨€ï¼š{language}
- æ¡†æ¶ï¼š{framework}ï¼ˆå¯é€‰ï¼‰
- é£æ ¼ï¼šéµå¾ªPEP8è§„èŒƒ
- é”™è¯¯å¤„ç†ï¼šåŒ…å«å¼‚å¸¸å¤„ç†

# ä»£ç è¦æ±‚
1. æ·»åŠ è¯¦ç»†æ³¨é‡Š
2. åŒ…å«ä½¿ç”¨ç¤ºä¾‹
3. è¯´æ˜æ—¶é—´/ç©ºé—´å¤æ‚åº¦
4. æä¾›æµ‹è¯•ç”¨ä¾‹

# çº¦æŸæ¡ä»¶
{constraints}

# è¾“å‡ºæ ¼å¼
```python
# [åŠŸèƒ½è¯´æ˜]
def function_name():
    # [ä»£ç å®ç°]
    pass

# [ä½¿ç”¨ç¤ºä¾‹]
# example...

# [å¤æ‚åº¦åˆ†æ]
# Time: O(n)
# Space: O(1)
```
"""
```

### 3.5.2 ä»£ç å®¡æŸ¥

```python
code_review_prompt = """
# è§’è‰²è®¾å®š
ä½ æ˜¯ä¸€ä½èµ„æ·±ä»£ç å®¡æŸ¥ä¸“å®¶ï¼Œä¸“æ³¨äºPythonä»£ç è´¨é‡ã€‚

# å®¡æŸ¥ç»´åº¦
1. **ä»£ç é£æ ¼**
   - å‘½åè§„èŒƒ
   - ä»£ç æ ¼å¼
   - æ³¨é‡Šè´¨é‡

2. **æ½œåœ¨é—®é¢˜**
   - Bugé£é™©
   - è¾¹ç•Œæƒ…å†µ
   - é”™è¯¯å¤„ç†

3. **æ€§èƒ½åˆ†æ**
   - æ—¶é—´å¤æ‚åº¦
   - ç©ºé—´å¤æ‚åº¦
   - ä¼˜åŒ–ç©ºé—´

4. **æœ€ä½³å®è·µ**
   - è®¾è®¡æ¨¡å¼
   - Pythonicå†™æ³•
   - å¯ç»´æŠ¤æ€§

# å¾…å®¡æŸ¥ä»£ç 
```python
{code}
```

# è¾“å‡ºæ ¼å¼
## æ€»ä½“è¯„ä»·
[è¯„åˆ†ï¼š1-5æ˜Ÿ] [ä¸€å¥è¯æ€»ç»“]

## è¯¦ç»†åé¦ˆ
### âœ… åšå¾—å¥½çš„åœ°æ–¹
- ...

### âš ï¸ éœ€è¦æ”¹è¿›çš„åœ°æ–¹
#### é—®é¢˜1ï¼š[é—®é¢˜æè¿°]
- ä½ç½®ï¼šç¬¬Xè¡Œ
- é—®é¢˜ï¼š...
- å»ºè®®ï¼š...

### ğŸ’¡ ä¼˜åŒ–å»ºè®®
- ...

## æ”¹è¿›åçš„ä»£ç 
```python
...
```
"""
```

### 3.5.3 æ–‡æ¡£ç”Ÿæˆ

```python
doc_gen_prompt = """
# ä»»åŠ¡
ä¸ºä»¥ä¸‹ä»£ç ç”Ÿæˆå®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆDocstringï¼‰

# ä»£ç 
```python
{code}
```

# æ–‡æ¡£è¦æ±‚
éµå¾ªGoogle Python Style Guideï¼ŒåŒ…å«ï¼š
1. ç®€è¦è¯´æ˜ï¼ˆä¸€è¡Œï¼‰
2. è¯¦ç»†è¯´æ˜ï¼ˆå¤šè¡Œï¼‰
3. å‚æ•°è¯´æ˜ï¼ˆArgsï¼‰
4. è¿”å›å€¼è¯´æ˜ï¼ˆReturnsï¼‰
5. å¼‚å¸¸è¯´æ˜ï¼ˆRaisesï¼‰
6. ä½¿ç”¨ç¤ºä¾‹ï¼ˆExamplesï¼‰

# è¾“å‡ºæ ¼å¼
```python
def function_name(param1, param2):
    \"\"\"
    [ç®€è¦è¯´æ˜]

    [è¯¦ç»†è¯´æ˜]

    Args:
        param1 (type): [è¯´æ˜]
        param2 (type): [è¯´æ˜]

    Returns:
        type: [è¯´æ˜]

    Raises:
        Exception: [è¯´æ˜]

    Examples:
        >>> function_name(...)
        [ç»“æœ]
    \"\"\"
    pass
```
"""
```

### 3.5.4 è°ƒè¯•åŠ©æ‰‹

```python
debug_prompt = """
# è§’è‰²
ä½ æ˜¯Pythonè°ƒè¯•ä¸“å®¶ï¼Œæ“…é•¿å¿«é€Ÿå®šä½å’Œè§£å†³ä»£ç é—®é¢˜ã€‚

# é—®é¢˜æè¿°
{error_message}

# ç›¸å…³ä»£ç 
```python
{code}
```

# æœŸæœ›è¡Œä¸º
{expected_behavior}

# å®é™…è¡Œä¸º
{actual_behavior}

# è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è°ƒè¯•
1. é—®é¢˜è¯Šæ–­
   - åˆ†æé”™è¯¯ä¿¡æ¯
   - å®šä½é—®é¢˜æ ¹æº
   - è§£é‡Šä¸ºä»€ä¹ˆä¼šå‡ºé”™

2. è§£å†³æ–¹æ¡ˆ
   - æä¾›ä¿®å¤åçš„ä»£ç 
   - è¯´æ˜ä¿®å¤åŸç†

3. é¢„é˜²æªæ–½
   - å¦‚ä½•é¿å…æ­¤ç±»é—®é¢˜
   - æœ€ä½³å®è·µå»ºè®®

4. å­¦ä¹ è¦ç‚¹
   - æ¶‰åŠçš„PythonçŸ¥è¯†ç‚¹
   - æ¨èçš„å­¦ä¹ èµ„æº
"""
```

### 3.5.5 æ•™å­¦è®²è§£

```python
teaching_prompt = """
# è§’è‰²
ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç¼–ç¨‹å¯¼å¸ˆï¼Œæ“…é•¿ç”¨é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è®²è§£æŠ€æœ¯æ¦‚å¿µã€‚

# æ•™å­¦å¯¹è±¡
- ç›®æ ‡ï¼š{target_audience}  # åˆå­¦è€…/ä¸­çº§/é«˜çº§
- èƒŒæ™¯ï¼š{background}        # å·²æŒæ¡çš„æŠ€èƒ½
- ç›®æ ‡ï¼š{learning_goal}     # æƒ³è¦è¾¾æˆçš„ç›®æ ‡

# æ•™å­¦ä¸»é¢˜
{topic}

# æ•™å­¦è¦æ±‚
1. **å¾ªåºæ¸è¿›**
   - ä»ç®€å•åˆ°å¤æ‚
   - ç”¨ç”Ÿæ´»åŒ–çš„æ¯”å–»
   - é¿å…ä¸€å¼€å§‹å°±è®²å¤ªå¤šæœ¯è¯­

2. **å®ä¾‹é©±åŠ¨**
   - æ¯ä¸ªæ¦‚å¿µé…åˆç¤ºä¾‹
   - ä»£ç è¦ç®€æ´æ˜äº†
   - æ·»åŠ è¯¦ç»†æ³¨é‡Š

3. **äº’åŠ¨æ€è€ƒ**
   - æå‡ºå¯å‘å¼é—®é¢˜
   - é¼“åŠ±åŠ¨æ‰‹å°è¯•
   - æä¾›ç»ƒä¹ é¢˜

4. **æ€»ç»“æå‡**
   - å…³é”®è¦ç‚¹æ€»ç»“
   - å¸¸è§è¯¯åŒºæç¤º
   - è¿›é˜¶å­¦ä¹ å»ºè®®

# è¾“å‡ºç»“æ„
## ğŸ“– è¯¾å‰çŸ¥è¯†å‡†å¤‡
...

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µè®²è§£
### æ¦‚å¿µ1ï¼š...
- **æ˜¯ä»€ä¹ˆ**ï¼š...
- **ä¸ºä»€ä¹ˆéœ€è¦**ï¼š...
- **æ€ä¹ˆç”¨**ï¼š...
- **ä»£ç ç¤ºä¾‹**ï¼š...

## ğŸ¯ å®æˆ˜æ¡ˆä¾‹
...

## ğŸ¤” æ€è€ƒä¸ç»ƒä¹ 
...

## ğŸ“ æ€»ç»“ä¸å»ºè®®
...
"""
```

---

## 3.6 Promptä¼˜åŒ–å®æˆ˜æ¡ˆä¾‹

### 3.6.1 æ¡ˆä¾‹1ï¼šä»å·®Promptåˆ°å¥½Prompt

**åŸå§‹Promptï¼ˆå·®ï¼‰**ï¼š
```python
prompt = "å†™ä¸ªçˆ¬è™«"
```

**ç¬¬ä¸€æ¬¡ä¼˜åŒ–ï¼ˆä¸­ç­‰ï¼‰**ï¼š
```python
prompt = """
ç”¨Pythonå†™ä¸€ä¸ªçˆ¬è™«ï¼Œçˆ¬å–è±†ç“£ç”µå½±Top250çš„ä¿¡æ¯ã€‚
"""
```

**ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼ˆè‰¯å¥½ï¼‰**ï¼š
```python
prompt = """
è¯·ç”¨Pythonç¼–å†™ä¸€ä¸ªè±†ç“£ç”µå½±Top250çš„çˆ¬è™«ç¨‹åºã€‚

éœ€è¦æå–ï¼š
- ç”µå½±åç§°
- è¯„åˆ†
- å¯¼æ¼”
- ä¸»æ¼”
- ä¸€å¥è¯ç®€ä»‹

ä½¿ç”¨requestså’ŒBeautifulSoupåº“ã€‚
"""
```

**æœ€ç»ˆä¼˜åŒ–ï¼ˆä¼˜ç§€ï¼‰**ï¼š
```python
prompt = """
# ä»»åŠ¡
ç¼–å†™ä¸€ä¸ªPythonçˆ¬è™«ï¼Œçˆ¬å–è±†ç“£ç”µå½±Top250é¡µé¢çš„ç”µå½±ä¿¡æ¯

# ç›®æ ‡ç½‘ç«™
https://movie.douban.com/top250

# éœ€è¦æå–çš„æ•°æ®
1. ç”µå½±åç§°
2. è¯„åˆ†ï¼ˆfloatç±»å‹ï¼‰
3. å¯¼æ¼”
4. ä¸»æ¼”
5. ä¸€å¥è¯ç®€ä»‹

# æŠ€æœ¯è¦æ±‚
- ä½¿ç”¨requestsåº“å‘é€è¯·æ±‚
- ä½¿ç”¨BeautifulSoupè§£æHTML
- æ·»åŠ éšæœºçš„User-Agent
- è¯·æ±‚é—´éš”2-5ç§’ï¼ˆéšæœºï¼‰
- æ•°æ®ä¿å­˜ä¸ºCSVæ–‡ä»¶

# ä»£ç è¦æ±‚
1. æ·»åŠ è¯¦ç»†æ³¨é‡Š
2. ä½¿ç”¨å‡½æ•°å°è£…
3. åŒ…å«å¼‚å¸¸å¤„ç†
4. æä¾›ä½¿ç”¨ç¤ºä¾‹
5. è¯´æ˜åçˆ¬ç­–ç•¥

# è¾“å‡ºæ ¼å¼
```python
# è±†ç“£ç”µå½±Top250çˆ¬è™«
import ...

def get_movie_info(url):
    \"\"\"
    è·å–å•é¡µç”µå½±ä¿¡æ¯

    Args:
        url: é¡µé¢URL

    Returns:
        list: ç”µå½±ä¿¡æ¯åˆ—è¡¨
    \"\"\"
    # ä»£ç å®ç°
    ...

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    ...
```
"""
```

### 3.6.2 æ¡ˆä¾‹2ï¼šå¤æ‚ä»»åŠ¡åˆ†è§£

**ä»»åŠ¡**ï¼šæ„å»ºä¸€ä¸ªæ™ºèƒ½ä»£ç å®¡æŸ¥ç³»ç»Ÿ

```python
# Step 1: ä»£ç é£æ ¼æ£€æŸ¥
style_check_prompt = """
æ£€æŸ¥ä»¥ä¸‹Pythonä»£ç çš„é£æ ¼é—®é¢˜ï¼š
- å‘½åè§„èŒƒ
- ç¼©è¿›æ ¼å¼
- è¡Œé•¿åº¦
- å¯¼å…¥é¡ºåº

ã€ä»£ç ã€‘
"""

# Step 2: æ½œåœ¨Bugè¯†åˆ«
bug_detection_prompt = """
åˆ†æä»¥ä¸‹ä»£ç å¯èƒ½å­˜åœ¨çš„Bugï¼š
- è¾¹ç•Œæ¡ä»¶
- å¼‚å¸¸å¤„ç†
- èµ„æºæ³„æ¼
- å¹¶å‘é—®é¢˜

ã€ä»£ç ã€‘
"""

# Step 3: æ€§èƒ½åˆ†æ
performance_prompt = """
åˆ†æä»¥ä¸‹ä»£ç çš„æ€§èƒ½é—®é¢˜ï¼š
- æ—¶é—´å¤æ‚åº¦
- ç©ºé—´å¤æ‚åº¦
- ä¼˜åŒ–å»ºè®®

ã€ä»£ç ã€‘
"""

# Step 4: ç»¼åˆæŠ¥å‘Š
final_report_prompt = """
æ ¹æ®ä»¥ä¸Šåˆ†æç»“æœï¼Œç”Ÿæˆä¸€ä»½å®Œæ•´çš„ä»£ç å®¡æŸ¥æŠ¥å‘Šã€‚

å®¡æŸ¥ç»“æœï¼š
ã€é£æ ¼æ£€æŸ¥ç»“æœã€‘
ã€Bugæ£€æµ‹ç»“æœã€‘
ã€æ€§èƒ½åˆ†æç»“æœã€‘

è¯·ç”Ÿæˆï¼š
1. æ€»ä½“è¯„åˆ†ï¼ˆ1-10åˆ†ï¼‰
2. ä¸»è¦é—®é¢˜åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
3. æ¯ä¸ªé—®é¢˜çš„è¯¦ç»†è¯´æ˜å’Œä¿®å¤å»ºè®®
4. æ”¹è¿›åçš„å®Œæ•´ä»£ç 
"""
```

---

## 3.7 Promptæµ‹è¯•ä¸è¿­ä»£

### 3.7.1 A/Bæµ‹è¯•

```python
# æµ‹è¯•ä¸¤ä¸ªä¸åŒçš„Prompt
prompts = {
    "A": "è§£é‡Šä»€ä¹ˆæ˜¯Pythonè£…é¥°å™¨",
    "B": """
    ä½ æ˜¯Pythonä¸“å®¶ã€‚è¯·ç”¨ä»¥ä¸‹ç»“æ„è§£é‡Šè£…é¥°å™¨ï¼š
    1. æ¯”å–»ï¼šç”¨ç”Ÿæ´»ä¸­çš„ä¾‹å­ç±»æ¯”
    2. å®šä¹‰ï¼šæŠ€æœ¯å±‚é¢çš„è§£é‡Š
    3. ç¤ºä¾‹ï¼šç®€å•ä»£ç ç¤ºä¾‹
    4. åº”ç”¨ï¼š3ä¸ªå®é™…ä½¿ç”¨åœºæ™¯
    """
}

# è¯„ä¼°ç»´åº¦ï¼š
# - å‡†ç¡®æ€§
# - å¯è¯»æ€§
# - å®Œæ•´æ€§
# - å®ç”¨æ€§
```

### 3.7.2 Promptç‰ˆæœ¬ç®¡ç†

```python
# ä½¿ç”¨å­—å…¸ç®¡ç†ä¸åŒç‰ˆæœ¬
PROMPT_VERSIONS = {
    "v1.0": {
        "prompt": "å†™ä¸ªçˆ¬è™«",
        "score": 3,
        "issues": ["ä¸å…·ä½“", "ç¼ºå°‘çº¦æŸ"]
    },
    "v2.0": {
        "prompt": "ç”¨Pythonå†™è±†ç“£çˆ¬è™«",
        "score": 5,
        "issues": ["ç¼ºå°‘å…·ä½“è¦æ±‚"]
    },
    "v3.0": {
        "prompt": "...",  # å®Œæ•´ç‰ˆæœ¬
        "score": 9,
        "issues": []
    }
}

# ä½¿ç”¨æœ€ä½³ç‰ˆæœ¬
best_prompt = PROMPT_VERSIONS["v3.0"]["prompt"]
```

---

## 3.8 æœ¬ç« å°ç»“

### 3.8.1 æ ¸å¿ƒè¦ç‚¹

âœ… **äº”å¤§æ ¸å¿ƒåŸåˆ™**ï¼š
1. æ¸…æ™°å…·ä½“ï¼ˆBe Specificï¼‰
2. æä¾›ä¸Šä¸‹æ–‡ï¼ˆProvide Contextï¼‰
3. æ˜ç¡®è¾“å‡ºæ ¼å¼ï¼ˆSpecify Formatï¼‰
4. ä½¿ç”¨ç¤ºä¾‹ï¼ˆUse Examplesï¼‰
5. è®¾å®šè§’è‰²ï¼ˆAssign Roleï¼‰

âœ… **å¸¸ç”¨æ¨¡å¼**ï¼š
- Chain of Thoughtï¼ˆæ€ç»´é“¾ï¼‰
- Few-shot Learningï¼ˆå°‘æ ·æœ¬å­¦ä¹ ï¼‰
- Self-Consistencyï¼ˆè‡ªæ´½æ€§ï¼‰
- Generate Then Refineï¼ˆå…ˆç”Ÿæˆåä¼˜åŒ–ï¼‰
- Role Playingï¼ˆè§’è‰²æ‰®æ¼”ï¼‰

âœ… **é«˜çº§æŠ€å·§**ï¼š
- Tree of Thoughtsï¼ˆæ€ç»´æ ‘ï¼‰
- Reverse Promptingï¼ˆé€†å‘æç¤ºï¼‰
- Progressive Promptingï¼ˆæ¸è¿›å¼æç¤ºï¼‰
- Comparative Promptingï¼ˆæ¯”è¾ƒå¼æç¤ºï¼‰

### 3.8.2 å®è·µå»ºè®®

1. **ä»ç®€å•å¼€å§‹**ï¼šå…ˆæ„å»ºåŸºç¡€Promptï¼Œå†é€æ­¥ä¼˜åŒ–
2. **æŒç»­è¿­ä»£**ï¼šé€šè¿‡æµ‹è¯•ä¸æ–­æ”¹è¿›Prompt
3. **å»ºç«‹æ¨¡æ¿åº“**ï¼šç§¯ç´¯å¸¸ç”¨åœºæ™¯çš„Promptæ¨¡æ¿
4. **A/Bæµ‹è¯•**ï¼šå¯¹æ¯”ä¸åŒPromptçš„æ•ˆæœ
5. **ç‰ˆæœ¬ç®¡ç†**ï¼šè®°å½•Promptçš„æ¼”è¿›è¿‡ç¨‹

---

## 3.9 ç»ƒä¹ é¢˜

### ç»ƒä¹ 1ï¼šä¼˜åŒ–Prompt

å°†ä»¥ä¸‹å·®Promptä¼˜åŒ–ä¸ºä¼˜ç§€Promptï¼š

```python
bad_prompt = "å†™ä¸ªæ’åºç®—æ³•"
```

### ç»ƒä¹ 2ï¼šFew-shot Learning

åˆ›å»ºä¸€ä¸ªæƒ…æ„Ÿåˆ†ç±»çš„Few-shot Promptï¼Œè‡³å°‘åŒ…å«3ä¸ªç¤ºä¾‹ã€‚

### ç»ƒä¹ 3ï¼šè§’è‰²æ‰®æ¼”

è®¾è®¡ä¸€ä¸ª"äº§å“ç»ç†"è§’è‰²çš„Promptï¼Œç”¨äºç”Ÿæˆäº§å“éœ€æ±‚æ–‡æ¡£ã€‚

### ç»ƒä¹ 4ï¼šæ€ç»´é“¾

ä½¿ç”¨CoTæŠ€å·§ï¼Œè®©AIè§£å†³ä¸€ä¸ªå¤æ‚çš„æ•°å­¦é—®é¢˜ã€‚

### æŒ‘æˆ˜ï¼šæ„å»ºPromptæ¨¡æ¿ç³»ç»Ÿ

åˆ›å»ºä¸€ä¸ªPromptæ¨¡æ¿ç®¡ç†å™¨ï¼Œæ”¯æŒï¼š
- å¤šåœºæ™¯æ¨¡æ¿
- å‚æ•°åŒ–è¾“å…¥
- ç‰ˆæœ¬æ§åˆ¶
- æ•ˆæœè¯„ä¼°

---

## å¸¸è§é—®é¢˜ FAQ

### Q1: å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªPromptæ˜¯å¦å†™å¾—å¥½ï¼Ÿ

**A:**

```python
# ä¼˜ç§€çš„Promptè¯„ä¼°æ ‡å‡†ï¼š

âœ… SMARTåŸåˆ™ï¼š
Specificï¼ˆå…·ä½“ï¼‰
  - æ˜ç¡®çš„ç›®æ ‡å’Œè¦æ±‚
  - æ¸…æ™°çš„ä»»åŠ¡æè¿°
  - è¯¦ç»†çš„çº¦æŸæ¡ä»¶

Measurableï¼ˆå¯è¡¡é‡ï¼‰
  - å¯ä»¥è¯„ä¼°è¾“å‡ºè´¨é‡
  - æœ‰æ˜ç¡®çš„æˆåŠŸæ ‡å‡†
  - å¯é‡åŒ–çš„è¦æ±‚

Achievableï¼ˆå¯è¾¾æˆï¼‰
  - åœ¨æ¨¡å‹èƒ½åŠ›èŒƒå›´å†…
  - è¦æ±‚ä¸è¿‡äºè‹›åˆ»
  - ç°å®çš„æœŸæœ›

Relevantï¼ˆç›¸å…³ï¼‰
  - æä¾›å¿…è¦çš„ä¸Šä¸‹æ–‡
  - ä¸ç›®æ ‡é«˜åº¦ç›¸å…³
  - é¿å…æ— å…³ä¿¡æ¯

Time-boundï¼ˆæœ‰ç•Œï¼‰
  - æ˜ç¡®è¾“å‡ºé•¿åº¦é™åˆ¶
  - æ—¶é—´/å¤æ‚åº¦çº¦æŸ
  - æ¸…æ™°çš„æ ¼å¼è¦æ±‚

# è¯„ä¼°æ¸…å•ï¼š
[ ] ä»»åŠ¡æè¿°æ¸…æ™°æ˜ç¡®
[ ] æä¾›äº†è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡
[ ] è¯´æ˜äº†è¾“å‡ºæ ¼å¼
[ ] ç»™å‡ºäº†ç¤ºä¾‹ï¼ˆå¦‚éœ€è¦ï¼‰
[ ] è®¾å®šäº†è§’è‰²ï¼ˆå¦‚éœ€è¦ï¼‰
[ ] åŒ…å«äº†çº¦æŸæ¡ä»¶
[ ] ä½¿ç”¨äº†ç»“æ„åŒ–æ ¼å¼
[ ] è€ƒè™‘äº†è¾¹ç•Œæƒ…å†µ

# å®é™…æµ‹è¯•ï¼š
1. å¤šæ¬¡è¿è¡Œï¼Œçœ‹è¾“å‡ºæ˜¯å¦ä¸€è‡´
2. ç»™ä¸åŒäººæµ‹è¯•ï¼Œçœ‹æ˜¯å¦éƒ½èƒ½ç†è§£
3. å¯¹æ¯”è¾“å…¥è¾“å‡ºï¼Œçœ‹æ˜¯å¦ç¬¦åˆé¢„æœŸ
4. æ£€æŸ¥æ˜¯å¦æœ‰é—æ¼æˆ–æ­§ä¹‰
```

### Q2: Few-shot Learningä¸­ç»™å‡ ä¸ªç¤ºä¾‹æœ€åˆé€‚ï¼Ÿ

**A:**

```python
âœ… Few-shotç¤ºä¾‹æ•°é‡å»ºè®®ï¼š

æ ¹æ®ä»»åŠ¡å¤æ‚åº¦ï¼š
ç®€å•ä»»åŠ¡ï¼š3-5ä¸ªç¤ºä¾‹
  - æƒ…æ„Ÿåˆ†ç±»
  - ç®€å•é—®ç­”
  - æ–‡æœ¬åˆ†ç±»

ä¸­ç­‰ä»»åŠ¡ï¼š5-10ä¸ªç¤ºä¾‹
  - ä»£ç ç”Ÿæˆ
  - æ–‡æœ¬æ‘˜è¦
  - æ•°æ®è½¬æ¢

å¤æ‚ä»»åŠ¡ï¼š10-20ä¸ªç¤ºä¾‹
  - å¤æ‚æ¨ç†
  - å¤šæ­¥éª¤ä»»åŠ¡
  - åˆ›æ„å†™ä½œ

âŒ ç¤ºä¾‹å¤ªå°‘çš„é—®é¢˜ï¼š
- æ¨¡å‹ç†è§£ä¸å……åˆ†
- è¾“å‡ºä¸ç¨³å®š
- å®¹æ˜“äº§ç”Ÿå¹»è§‰

âŒ ç¤ºä¾‹å¤ªå¤šçš„é—®é¢˜ï¼š
- æ¶ˆè€—è¿‡å¤šToken
- å¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ
- å“åº”é€Ÿåº¦å˜æ…¢

âœ… ç¤ºä¾‹è´¨é‡æ¯”æ•°é‡é‡è¦ï¼š
# å¥½çš„ç¤ºä¾‹ç‰¹å¾ï¼š
1. ä»£è¡¨æ€§å¼ºï¼ˆè¦†ç›–ä¸»è¦åœºæ™¯ï¼‰
2. å¤šæ ·æ€§å¥½ï¼ˆä¸åŒç±»å‹æƒ…å†µï¼‰
3. éš¾åº¦é€‚ä¸­ï¼ˆä¸è¦å¤ªç®€å•æˆ–å¤æ‚ï¼‰
4. æ ¼å¼ç»Ÿä¸€ï¼ˆä¾¿äºæ¨¡å‹ç†è§£ï¼‰

# ç¤ºä¾‹é€‰æ‹©ç­–ç•¥ï¼š
# 1. ä»æ˜“åˆ°éš¾æ’åº
# 2. åŒ…å«è¾¹ç•Œæƒ…å†µ
# 3. å±•ç¤ºé”™è¯¯ç¤ºä¾‹ï¼ˆå¯¹æ¯”å­¦ä¹ ï¼‰
# 4. æ›´æ–°ç¤ºä¾‹ï¼ˆæ ¹æ®æ•ˆæœè¿­ä»£ï¼‰
```

### Q3: Chain of Thoughtï¼ˆCoTï¼‰æ€»æ˜¯æœ‰æ•ˆå—ï¼Ÿ

**A:**

```python
âœ… CoTé€‚ç”¨åœºæ™¯ï¼š
- æ•°å­¦æ¨ç†é¢˜
- é€»è¾‘æ¨ç†
- å¤šæ­¥éª¤é—®é¢˜
- éœ€è¦è§£é‡Šçš„ä»»åŠ¡
- å¤æ‚å†³ç­–

âœ… CoTçš„ä¼˜åŠ¿ï¼š
# ç¤ºä¾‹ï¼šæ•°å­¦é—®é¢˜
prompt = """
å°æ˜ä¹°äº†5æ”¯é“…ç¬”ï¼Œæ¯æ”¯2å…ƒã€‚
åˆä¹°äº†3æœ¬ç¬”è®°æœ¬ï¼Œæ¯æœ¬8å…ƒã€‚
ä»–ä»˜äº†50å…ƒï¼Œåº”è¯¥æ‰¾å›å¤šå°‘é’±ï¼Ÿ

è¯·ä¸€æ­¥æ­¥æ€è€ƒï¼š
1. è®¡ç®—é“…ç¬”æ€»ä»·
2. è®¡ç®—ç¬”è®°æœ¬æ€»ä»·
3. è®¡ç®—æ€»èŠ±è´¹
4. è®¡ç®—æ‰¾å›çš„é’±
"""

æ•ˆæœï¼šå‡†ç¡®ç‡ä»60%æå‡åˆ°95%

âŒ CoTä¸é€‚ç”¨åœºæ™¯ï¼š
- ç®€å•ä»»åŠ¡ï¼ˆå¦‚ï¼šæ–‡æœ¬åˆ†ç±»ï¼‰
- åˆ›æ„å†™ä½œï¼ˆé™åˆ¶å‘æŒ¥ï¼‰
- å¿«é€Ÿå“åº”ï¼ˆå¢åŠ å»¶è¿Ÿï¼‰
- Tokenæ•æ„Ÿï¼ˆæ¶ˆè€—è¾ƒå¤šï¼‰

âœ… æ”¹è¿›CoTçš„æ–¹æ³•ï¼š

# 1. Zero-shot CoTï¼ˆä¸éœ€è¦ç¤ºä¾‹ï¼‰
prompt = """
é—®é¢˜ï¼š...
è¯·ä¸€æ­¥æ­¥æ€è€ƒï¼Œç„¶åç»™å‡ºç­”æ¡ˆã€‚
"""

# 2. Auto-CoTï¼ˆè‡ªåŠ¨ç”Ÿæˆæ¨ç†è¿‡ç¨‹ï¼‰
prompt = """
é—®é¢˜ï¼š...

æ€è€ƒè¿‡ç¨‹ï¼š
1. é¦–å…ˆï¼Œ...
2. ç„¶åï¼Œ...
3. æœ€åï¼Œ...

ç­”æ¡ˆï¼š...
"""

# 3. Self-Consistencyï¼ˆå¤šæ¬¡æ¨ç†å–å…±è¯†ï¼‰
# ç”Ÿæˆå¤šä¸ªæ¨ç†è·¯å¾„ï¼Œé€‰æ‹©æœ€ä¸€è‡´çš„ç­”æ¡ˆ

# é€‰æ‹©å»ºè®®ï¼š
- æ•°å­¦/é€»è¾‘é¢˜ â†’ å¿…ç”¨CoT
- ç®€å•åˆ†ç±» â†’ ä¸éœ€è¦CoT
- å¤æ‚ä»»åŠ¡ â†’ å»ºè®®ç”¨CoT
- Tokenæ•æ„Ÿ â†’ è€ƒè™‘ç®€åŒ–CoT
```

### Q4: å¦‚ä½•è®©AIè¾“å‡ºç‰¹å®šæ ¼å¼ï¼ˆå¦‚JSONã€Markdownï¼‰ï¼Ÿ

**A:**

```python
# æ–¹æ³•1ï¼šæ˜ç¡®æŒ‡å®šæ ¼å¼
prompt = """
è¯·åˆ†æä»¥ä¸‹æ–‡æœ¬çš„æƒ…æ„Ÿï¼Œä»¥JSONæ ¼å¼è¾“å‡ºï¼š
{
    "sentiment": "æ­£é¢/è´Ÿé¢/ä¸­æ€§",
    "confidence": 0.95,
    "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"]
}

æ–‡æœ¬ï¼šä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œå¿ƒæƒ…ç‰¹åˆ«æ£’ï¼
"""

# æ–¹æ³•2ï¼šæä¾›å®Œæ•´ç¤ºä¾‹
prompt = """
ä»»åŠ¡ï¼šæƒ…æ„Ÿåˆ†æ

è¾“å‡ºæ ¼å¼ï¼š
```json
{
    "sentiment": "æƒ…æ„Ÿå€¾å‘",
    "score": åˆ†æ•°(0-1),
    "reasoning": "åˆ¤æ–­ç†ç”±"
}
```

ç¤ºä¾‹ï¼š
æ–‡æœ¬ï¼š"äº§å“è´¨é‡å¾ˆå·®ï¼Œä¸æ¨è"
è¾“å‡ºï¼š
```json
{
    "sentiment": "è´Ÿé¢",
    "score": 0.9,
    "reasoning": "åŒ…å«è´Ÿé¢è¯æ±‡'å¾ˆå·®'ï¼Œè¡¨è¾¾æ˜ç¡®çš„å¦å®šæ€åº¦"
}
```

ç°åœ¨åˆ†æï¼š
æ–‡æœ¬ï¼š"æœåŠ¡æ€åº¦å¾ˆå¥½ï¼Œä½†ç‰©æµå¤ªæ…¢äº†"
è¾“å‡ºï¼š
"""

# æ–¹æ³•3ï¼šä½¿ç”¨Pydanticçº¦æŸï¼ˆLangChainï¼‰
from pydantic import BaseModel, Field

class SentimentAnalysis(BaseModel):
    sentiment: str = Field(description="æƒ…æ„Ÿå€¾å‘")
    confidence: float = Field(description="ç½®ä¿¡åº¦", ge=0, le=1)

parser = PydanticOutputParser(pydantic_object=SentimentAnalysis)
format_instructions = parser.get_format_instructions()

prompt = f"""
åˆ†ææ–‡æœ¬çš„æƒ…æ„Ÿã€‚

{format_instructions}

æ–‡æœ¬ï¼š...
"""

# æ–¹æ³•4ï¼šå¤šè½®å¼•å¯¼
prompt = """
ç¬¬ä¸€æ­¥ï¼šåˆ†ææ–‡æœ¬æƒ…æ„Ÿ
æ–‡æœ¬ï¼š"..."

ç¬¬äºŒæ­¥ï¼šæ ¼å¼åŒ–è¾“å‡ºä¸ºJSON
{"sentiment": "...", "confidence": ...}

ç¬¬ä¸‰æ­¥ï¼šéªŒè¯JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
"""

# æœ€ä½³å®è·µï¼š
âœ… åœ¨promptä¸­æ˜ç¡®æ ¼å¼
âœ… æä¾›å®Œæ•´ç¤ºä¾‹
âœ… ä½¿ç”¨ä»£ç å—åŒ…è£¹
âœ… è€ƒè™‘ä½¿ç”¨è§£æå™¨éªŒè¯
âŒ ä¸è¦å‡è®¾æ¨¡å‹è‡ªåŠ¨ç†è§£
```

### Q5: å¦‚ä½•å¤„ç†AIå›ç­”ä¸å‡†ç¡®æˆ–äº§ç”Ÿå¹»è§‰çš„é—®é¢˜ï¼Ÿ

**A:**

```python
# é—®é¢˜ï¼šAIäº§ç”Ÿå¹»è§‰ï¼ˆç¼–é€ å†…å®¹ï¼‰

âœ… è§£å†³æ–¹æ³•ï¼š

# 1. æä¾›ground truthï¼ˆæ­£ç¡®ä¿¡æ¯ï¼‰
prompt = """
ä½ æ˜¯ä¸€ä¸ªPythonä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹å®˜æ–¹æ–‡æ¡£å›ç­”é—®é¢˜ã€‚

ã€å‚è€ƒæ–‡æ¡£ã€‘
Pythonå®˜æ–¹æ–‡æ¡£ï¼šè£…é¥°å™¨æ˜¯...
...

ã€é—®é¢˜ã€‘
ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Ÿ

è¦æ±‚ï¼š
- åªä½¿ç”¨å‚è€ƒæ–‡æ¡£ä¸­çš„ä¿¡æ¯
- ä¸è¦ç¼–é€ å†…å®¹
- å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ï¼Œæ˜ç¡®è¯´æ˜
"""

# 2. è¦æ±‚å¼•ç”¨æ¥æº
prompt = """
è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼Œå¹¶å¼•ç”¨ä¿¡æ¯æ¥æºã€‚

é—®é¢˜ï¼šPython 3.11æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ

è¦æ±‚ï¼š
- æ¯ä¸ªç‰¹æ€§éƒ½è¦å¼•ç”¨å®˜æ–¹æ–‡æ¡£æˆ–PEP
- æ ¼å¼ï¼š[ç‰¹æ€§æè¿°] - æ¥æºï¼š[å…·ä½“å¼•ç”¨]
- ä¸ç¡®å®šçš„ä¿¡æ¯ä¸è¦å†™
"""

# 3. é™ä½temperature
# è®¾ç½®æ›´ä½çš„temperatureè®©è¾“å‡ºæ›´ç¡®å®š
model = ChatOpenAI(temperature=0.1)  # é»˜è®¤0.7

# 4. æ·»åŠ ä¸ç¡®å®šæ€§å£°æ˜
prompt = """
è¯·å›ç­”ä»¥ä¸‹é—®é¢˜ã€‚

è¦æ±‚ï¼š
- ç¡®å®šçš„ä¿¡æ¯ç›´æ¥å›ç­”
- ä¸ç¡®å®šçš„ä¿¡æ¯è¯´"å¯èƒ½"
- å®Œå…¨ä¸çŸ¥é“çš„ä¿¡æ¯è¯´"ä¸æ¸…æ¥š"
- ä¸è¦ç¼–é€ å†…å®¹

é—®é¢˜ï¼š...
"""

# 5. ä½¿ç”¨RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰
# ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³å†…å®¹ï¼Œè®©AIåŸºäºçœŸå®ä¿¡æ¯å›ç­”

# 6. éªŒè¯å’Œåæ€
prompt = """
ã€ç¬¬ä¸€æ­¥ã€‘å›ç­”é—®é¢˜
é—®é¢˜ï¼š...

ã€ç¬¬äºŒæ­¥ã€‘éªŒè¯ç­”æ¡ˆ
è¯·æ£€æŸ¥ä½ çš„ç­”æ¡ˆï¼š
1. å“ªäº›æ˜¯ç¡®å®šçš„ä¿¡æ¯ï¼Ÿ
2. å“ªäº›æ˜¯ä¸ç¡®å®šçš„ï¼Ÿ
3. å“ªäº›å¯èƒ½æ˜¯é”™è¯¯çš„ï¼Ÿ

ã€ç¬¬ä¸‰æ­¥ã€‘æ”¹è¿›ç­”æ¡ˆ
æ ¹æ®éªŒè¯ç»“æœï¼Œæ”¹è¿›ä½ çš„ç­”æ¡ˆã€‚
"""

# é€‰æ‹©å»ºè®®ï¼š
- äº‹å®æ€§é—®é¢˜ â†’ ä½¿ç”¨RAG
- åˆ›é€ æ€§ä»»åŠ¡ â†’ å…è®¸ä¸€å®šå¹»è§‰
- é‡è¦å†…å®¹ â†’ äººå·¥éªŒè¯
- éœ€è¦å‡†ç¡®æ€§ â†’ é™ä½temperature
```

### Q6: å¦‚ä½•è®©Prompté€‚åº”ä¸åŒçš„ç”¨æˆ·æ°´å¹³ï¼Ÿ

**A:**

```python
# æ–¹æ³•1ï¼šæ ¹æ®ç”¨æˆ·æ°´å¹³è°ƒæ•´Prompt

def create_prompt(topic, user_level):
    """æ ¹æ®ç”¨æˆ·æ°´å¹³åˆ›å»ºä¸åŒçš„Prompt"""

    prompts = {
        "åˆå­¦è€…": f"""
        ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç¼–ç¨‹å¯¼å¸ˆã€‚

        è¯·ç”¨æœ€ç®€å•çš„æ–¹å¼è§£é‡Š{topic}ï¼š
        1. ç”¨ç”Ÿæ´»åŒ–çš„æ¯”å–»
        2. é¿å…ä¸“ä¸šæœ¯è¯­
        3. æ¯ä¸ªæ¦‚å¿µé…ç®€å•ç¤ºä¾‹
        4. å­—æ•°æ§åˆ¶åœ¨300å­—å†…

        å°±åƒç»™å®Œå…¨ä¸æ‡‚ç¼–ç¨‹çš„æœ‹å‹è®²è§£ä¸€æ ·ã€‚
        """,

        "ä¸­çº§": f"""
        ä½ æ˜¯ä¸€ä½æŠ€æœ¯ä¸“å®¶ã€‚

        è¯·æ·±å…¥è®²è§£{topic}ï¼š
        1. æŠ€æœ¯åŸç†å’Œå®ç°
        2. ä»£ç ç¤ºä¾‹å’Œç”¨æ³•
        3. æœ€ä½³å®è·µ
        4. å¸¸è§é™·é˜±

        å‡è®¾è¯»è€…æœ‰1-2å¹´ç¼–ç¨‹ç»éªŒã€‚
        """,

        "é«˜çº§": f"""
        ä½ æ˜¯è¿™ä¸ªé¢†åŸŸçš„æƒå¨ä¸“å®¶ã€‚

        è¯·å…¨é¢è§£æ{topic}ï¼š
        1. åº•å±‚åŸç†å’Œæºç åˆ†æ
        2. é«˜çº§æŠ€å·§å’Œä¼˜åŒ–
        3. è®¾è®¡æ¨¡å¼å’Œæ¶æ„
        4. å‰æ²¿å‘å±•å’Œè¶‹åŠ¿

        å‡è®¾è¯»è€…æ˜¯èµ„æ·±å·¥ç¨‹å¸ˆï¼Œè¿½æ±‚æ·±åº¦ç†è§£ã€‚
        """
    }

    return prompts[user_level]

# æ–¹æ³•2ï¼šè®©ç”¨æˆ·è‡ªå®šä¹‰è¯¦ç»†ç¨‹åº¦
prompt = """
è¯·è§£é‡ŠPythonè£…é¥°å™¨ã€‚

ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ï¼š
- é€‰é¡¹1ï¼šç®€å•ç†è§£ï¼ˆ5åˆ†é’Ÿï¼‰
- é€‰é¡¹2ï¼šæ·±å…¥å­¦ä¹ ï¼ˆ20åˆ†é’Ÿï¼‰
- é€‰é¡¹3ï¼šä¸“å®¶æŒæ¡ï¼ˆ1å°æ—¶ï¼‰

è¯·è¯¢é—®ç”¨æˆ·éœ€è¦å“ªç§ç¨‹åº¦ï¼Œç„¶åæä¾›å¯¹åº”æ·±åº¦çš„å†…å®¹ã€‚
"""

# æ–¹æ³•3ï¼šæ¸è¿›å¼è®²è§£
prompt = """
ã€ç¬¬ä¸€æ­¥ã€‘æ¦‚å¿µå…¥é—¨ï¼ˆ100å­—ï¼‰
ç”¨ä¸€å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯è£…é¥°å™¨ã€‚

ã€ç¬¬äºŒæ­¥ã€‘åŸºç¡€ç†è§£ï¼ˆ300å­—ï¼‰
ç”¨ç®€å•ä¾‹å­è¯´æ˜è£…é¥°å™¨çš„ä½œç”¨ã€‚

ã€ç¬¬ä¸‰æ­¥ã€‘æ·±å…¥å­¦ä¹ ï¼ˆå®Œæ•´è®²è§£ï¼‰
è¯¦ç»†è®²è§£åŸç†ã€ç”¨æ³•ã€é«˜çº§æŠ€å·§ã€‚

ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€æ­¥æ·±å…¥ã€‚
"""

# æ–¹æ³•4ï¼šè‡ªé€‚åº”æ·±åº¦
prompt = """
è¯·è§£é‡ŠPythonè£…é¥°å™¨ã€‚

å…ˆæä¾›ä¸€ä¸ªç®€çŸ­ç‰ˆæœ¬ï¼ˆ200å­—ï¼‰ã€‚
ç„¶åé—®ç”¨æˆ·æ˜¯å¦éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šï¼š
- å¦‚æœéœ€è¦ï¼Œæä¾›å®Œæ•´ç‰ˆæœ¬
- å¦‚æœä¸éœ€è¦ï¼Œæä¾›ç®€å•ç¤ºä¾‹å³å¯
"""

# æœ€ä½³å®è·µï¼š
âœ… äº†è§£ç›®æ ‡å—ä¼—
âœ… æä¾›ä¸åŒæ·±åº¦çš„é€‰é¡¹
âœ… ä½¿ç”¨å¯ç†è§£çš„è¯­è¨€
âœ… åŒ…å«é€‚å½“çš„ç¤ºä¾‹
âœ… å…è®¸ç”¨æˆ·é€‰æ‹©è¯¦ç»†ç¨‹åº¦
```

### Q7: Promptå¤ªé•¿æ€ä¹ˆåŠï¼Ÿå¦‚ä½•ä¼˜åŒ–Tokenæ¶ˆè€—ï¼Ÿ

**A:**

```python
# é—®é¢˜ï¼šPromptè¿‡é•¿å¯¼è‡´ï¼š
# 1. Tokenæ¶ˆè€—å¤§
# 2. å“åº”é€Ÿåº¦æ…¢
# 3. å¯èƒ½è¶…å‡ºé™åˆ¶

âœ… Tokenä¼˜åŒ–ç­–ç•¥ï¼š

# 1. åˆ é™¤å†—ä½™å†…å®¹
# âŒ å†—é•¿ç‰ˆæœ¬
prompt = """
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Pythonç¼–ç¨‹ä¸“å®¶ï¼Œæ‹¥æœ‰10å¹´çš„å¼€å‘ç»éªŒï¼Œ
æ“…é•¿Webå¼€å‘ã€æ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ ç­‰å¤šä¸ªé¢†åŸŸã€‚
...

è¯·è¯¦ç»†è§£é‡ŠPythonè£…é¥°å™¨çš„æ¦‚å¿µå’Œç”¨æ³•ã€‚
"""

# âœ… ç®€æ´ç‰ˆæœ¬
prompt = """
ä½ æ˜¯Pythonä¸“å®¶ã€‚è¯·è§£é‡Šè£…é¥°å™¨çš„æ¦‚å¿µå’Œç”¨æ³•ã€‚
"""

# 2. ä½¿ç”¨æ¨¡æ¿ + å‚æ•°åŒ–
# åˆ›å»ºç®€æ´çš„æ¨¡æ¿
CODE_REVIEW_TEMPLATE = """
å®¡æŸ¥ä»¥ä¸‹{language}ä»£ç ï¼š
{code}

å…³æ³¨ç‚¹ï¼š{focus_areas}
è¾“å‡ºæ ¼å¼ï¼š{format}
"""

# ä½¿ç”¨æ—¶å¡«å……
prompt = CODE_REVIEW_TEMPLATE.format(
    language="Python",
    code=code_snippet,
    focus_areas="æ€§èƒ½ã€å®‰å…¨ã€å¯è¯»æ€§",
    format="åˆ—è¡¨"
)

# 3. åˆ†æ­¥è¿›è¡Œï¼ˆé¿å…ä¸€æ¬¡æ€§æä¾›å¤§é‡ä¿¡æ¯ï¼‰
# âŒ ä¸€æ¬¡æ€§ç»™å‡ºæ‰€æœ‰è¦æ±‚
prompt = """
å†™ä¸€ä¸ªPythonçˆ¬è™«ï¼Œè¦æ±‚ï¼š
1. ä½¿ç”¨requestså’Œbs4
2. æ”¯æŒä»£ç†
3. æ”¯æŒcookie
4. æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“
5. æ”¯æŒæ–­ç‚¹ç»­ä¼ 
6. æ”¯æŒå¤šçº¿ç¨‹
7. æ·»åŠ æ—¥å¿—
8. å¼‚å¸¸å¤„ç†
9. ä»£ç æ³¨é‡Š
10. ä½¿ç”¨ç¤ºä¾‹
...ï¼ˆ50è¡Œè¦æ±‚ï¼‰
"""

# âœ… åˆ†æ­¥è¿­ä»£
# Step 1: åŸºç¡€ç‰ˆæœ¬
prompt1 = "å†™ä¸€ä¸ªç®€å•çš„Pythonçˆ¬è™«ï¼Œä½¿ç”¨requestså’Œbs4"

# Step 2: æ·»åŠ åŠŸèƒ½
prompt2 = """
åœ¨ä»¥ä¸Šä»£ç åŸºç¡€ä¸Šæ·»åŠ ï¼š
- ä»£ç†æ”¯æŒ
- æ•°æ®å­˜å‚¨
- å¼‚å¸¸å¤„ç†
"""

# 4. ä½¿ç”¨å¼•ç”¨ä»£æ›¿é‡å¤å†…å®¹
# âŒ é‡å¤å†…å®¹
prompt = """
åˆ†æä»¥ä¸‹ä»£ç çš„ï¼š
1. ä»£ç é£æ ¼
2. æ€§èƒ½é—®é¢˜
3. å®‰å…¨é—®é¢˜
4. å¯è¯»æ€§
5. å¯ç»´æŠ¤æ€§
6. æµ‹è¯•è¦†ç›–
7. æ–‡æ¡£å®Œæ•´æ€§
8. é”™è¯¯å¤„ç†

ã€ä»£ç ã€‘
"""

# âœ… å¼•ç”¨
CODE_QUALITY_ASPECTS = [
    "ä»£ç é£æ ¼", "æ€§èƒ½", "å®‰å…¨", "å¯è¯»æ€§",
    "å¯ç»´æŠ¤æ€§", "æµ‹è¯•", "æ–‡æ¡£", "é”™è¯¯å¤„ç†"
]

prompt = f"""
åˆ†æä»¥ä¸‹ä»£ç åœ¨ä»¥ä¸‹æ–¹é¢çš„è´¨é‡ï¼š
{', '.join(CODE_QUALITY_ASPECTS)}

ã€ä»£ç ã€‘
"""

# 5. ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼ï¼ˆçœç•¥tokenï¼‰
# âŒ è‡ªç„¶è¯­è¨€æè¿°
prompt = """
è¯·æŒ‰ç…§ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼š
ç¬¬ä¸€éƒ¨åˆ†æ˜¯ä»£ç åˆ†æ
ç¬¬äºŒéƒ¨åˆ†æ˜¯é—®é¢˜åˆ—è¡¨
ç¬¬ä¸‰éƒ¨åˆ†æ˜¯æ”¹è¿›å»ºè®®
ç¬¬å››éƒ¨åˆ†æ˜¯æ”¹è¿›åçš„ä»£ç 
æ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨åˆ†éš”çº¿åˆ†å¼€
"""

# âœ… ä½¿ç”¨ç¬¦å·æ ‡è®°
prompt = """
è¾“å‡ºæ ¼å¼ï¼š
## ä»£ç åˆ†æ
...
## é—®é¢˜åˆ—è¡¨
...
## æ”¹è¿›å»ºè®®
...
## æ”¹è¿›ä»£ç 
...
"""

# 6. ç¼“å­˜å¸¸ç”¨Prompt
from langchain.cache import InMemoryCache
set_llm_cache(InMemoryCache())

# ç›¸åŒçš„Promptä¼šä»ç¼“å­˜è¯»å–ï¼Œä¸æ¶ˆè€—Token

# Tokenä¼˜åŒ–æ£€æŸ¥æ¸…å•ï¼š
[ ] åˆ é™¤äº†å†—ä½™æè¿°
[ ] ä½¿ç”¨äº†æ¨¡æ¿åŒ–
[ ] é¿å…äº†é‡å¤å†…å®¹
[ ] é‡‡ç”¨äº†åˆ†æ­¥ç­–ç•¥
[ ] ä½¿ç”¨äº†ç»“æ„åŒ–æ ¼å¼
[ ] è®¾ç½®äº†åˆç†çš„é•¿åº¦é™åˆ¶
```

### Q8: å¦‚ä½•è®¾è®¡å¤šè½®å¯¹è¯çš„Promptï¼Ÿ

**A:**

```python
# å¤šè½®å¯¹è¯çš„Promptè®¾è®¡è¦ç‚¹ï¼š

âœ… æ–¹æ³•1ï¼šç»´æŠ¤å¯¹è¯å†å²

# ä½¿ç”¨LangChainçš„Memory
from langchain.memory import ConversationBufferMemory
from langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder

prompt = ChatPromptTemplate.from_messages([
    ("system", "ä½ æ˜¯Pythonç¼–ç¨‹ä¸“å®¶"),
    MessagesPlaceholder(variable_name="history"),  # å¯¹è¯å†å²
    ("human", "{input}")
])

memory = ConversationBufferMemory(return_messages=True)

# æ¯è½®å¯¹è¯è‡ªåŠ¨æ›´æ–°å†å²
history = memory.chat_memory.messages

âœ… æ–¹æ³•2ï¼šæ¸è¿›å¼Prompt

# ç¬¬ä¸€è½®ï¼šäº†è§£éœ€æ±‚
prompt1 = """
ä½ å¥½ï¼æˆ‘æ˜¯PythonåŠ©æ‰‹ã€‚è¯·å‘Šè¯‰æˆ‘ä½ æƒ³å­¦ä»€ä¹ˆï¼Ÿ
- åŸºç¡€è¯­æ³•
- è¿›é˜¶ç‰¹æ€§
- å®æˆ˜é¡¹ç›®
- é—®é¢˜è§£å†³
"""

# ç¬¬äºŒè½®ï¼šæ ¹æ®å›ç­”æ·±å…¥
prompt2 = """
ä½ é€‰æ‹©äº†"åŸºç¡€è¯­æ³•"ã€‚è¯·é—®ï¼š
1. ä½ æœ‰ç¼–ç¨‹åŸºç¡€å—ï¼Ÿ
2. æƒ³ä»å“ªé‡Œå¼€å§‹ï¼Ÿ
   - å˜é‡å’Œæ•°æ®ç±»å‹
   - æ§åˆ¶æµ
   - å‡½æ•°
   - é¢å‘å¯¹è±¡
"""

# ç¬¬ä¸‰è½®ï¼šæä¾›å®šåˆ¶å†…å®¹
prompt3 = """
æ ¹æ®ä½ çš„æƒ…å†µï¼Œæˆ‘æ¥ä»‹ç»PythonåŸºç¡€...

ã€å†…å®¹ã€‘

æœ‰ä»€ä¹ˆç–‘é—®å—ï¼Ÿ
"""

âœ… æ–¹æ³•3ï¼šä¸Šä¸‹æ–‡ç´¯ç§¯

# åœ¨Promptä¸­åŒ…å«ä¹‹å‰çš„å¯¹è¯æ‘˜è¦
prompt = """
ã€å¯¹è¯å†å²æ‘˜è¦ã€‘
ç”¨æˆ·æ˜¯Pythonåˆå­¦è€…ï¼Œæƒ³å­¦ä¹ åŸºç¡€è¯­æ³•ã€‚
å·²ç»è®²è§£äº†å˜é‡å’Œæ•°æ®ç±»å‹ï¼Œç”¨æˆ·ç†è§£äº†ã€‚
ç”¨æˆ·é—®ï¼š"æ¥ä¸‹æ¥å­¦ä»€ä¹ˆï¼Ÿ"

ã€å½“å‰ä»»åŠ¡ã€‘
å»ºè®®ç”¨æˆ·å­¦ä¹ æ§åˆ¶æµï¼ˆif/for/whileï¼‰ï¼Œå¹¶æä¾›ï¼š
1. ç®€è¦è¯´æ˜
2. ä»£ç ç¤ºä¾‹
3. ç»ƒä¹ é¢˜

è¯·ä¿æŒå‹å¥½çš„å¯¼å¸ˆé£æ ¼ã€‚
"""

âœ… æ–¹æ³•4ï¼šçŠ¶æ€æœºæ¨¡å¼

# å®šä¹‰å¯¹è¯çŠ¶æ€
CONVERSATION_STATES = {
    "greeting": "æ¬¢è¿",
    "topic_selection": "é€‰æ‹©ä¸»é¢˜",
    "learning": "å­¦ä¹ ä¸­",
    "practice": "ç»ƒä¹ ä¸­",
    "review": "å¤ä¹ ä¸­"
}

current_state = "topic_selection"

if current_state == "topic_selection":
    prompt = "è¯·é€‰æ‹©ä½ æƒ³å­¦ä¹ çš„ä¸»é¢˜..."
elif current_state == "learning":
    prompt = f"æ­£åœ¨å­¦ä¹ {current_topic}ï¼Œè¯·æä¾›è¯¦ç»†å†…å®¹..."
elif current_state == "practice":
    prompt = f"ä¸º{current_topic}è®¾è®¡ç»ƒä¹ é¢˜..."

# å¤šè½®å¯¹è¯æœ€ä½³å®è·µï¼š
âœ… æ˜ç¡®æ¯è½®å¯¹è¯çš„ç›®æ ‡
âœ… ä¿å­˜å¿…è¦çš„ä¸Šä¸‹æ–‡
âœ… å¼•ç”¨ä¹‹å‰çš„å¯¹è¯å†…å®¹
âœ… ä½¿ç”¨Memoryç»„ä»¶ç®¡ç†
âœ… å®šæœŸæ€»ç»“ï¼ˆé¿å…å†å²å¤ªé•¿ï¼‰
âœ… æä¾›æ˜ç¡®çš„å¼•å¯¼
âŒ ä¸è¦æ¯è½®é‡å¤å®Œæ•´Prompt
âŒ ä¸è¦è®©å†å²æ— é™å¢é•¿
```

### Q9: å¦‚ä½•è¯„ä¼°Promptçš„æ•ˆæœï¼Ÿ

**A:**

```python
# Promptæ•ˆæœè¯„ä¼°æ–¹æ³•ï¼š

âœ… æ–¹æ³•1ï¼šå®šé‡è¯„ä¼°

import json
from datetime import datetime

# è®°å½•æµ‹è¯•ç»“æœ
def evaluate_prompt(prompt, test_cases, criteria):
    """
    è¯„ä¼°Promptæ•ˆæœ

    Args:
        prompt: è¦æµ‹è¯•çš„Prompt
        test_cases: æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
        criteria: è¯„ä¼°æ ‡å‡†å­—å…¸

    Returns:
        è¯„ä¼°æŠ¥å‘Š
    """
    results = []

    for i, test_case in enumerate(test_cases):
        # æ‰§è¡ŒPrompt
        response = llm.invoke(prompt.format(**test_case))

        # è¯„ä¼°å„é¡¹æŒ‡æ ‡
        scores = {}
        for criterion, weight in criteria.items():
            score = evaluate_criterion(response, criterion)
            scores[criterion] = score * weight

        # è®°å½•ç»“æœ
        results.append({
            "test_case": test_case,
            "response": response,
            "scores": scores,
            "total_score": sum(scores.values())
        })

    # ç”ŸæˆæŠ¥å‘Š
    report = {
        "timestamp": datetime.now().isoformat(),
        "prompt": prompt,
        "total_cases": len(test_cases),
        "average_score": sum(r["total_score"] for r in results) / len(results),
        "results": results
    }

    return report

# è¯„ä¼°æ ‡å‡†ç¤ºä¾‹
criteria = {
    "accuracy": 0.4,      # å‡†ç¡®æ€§
    "completeness": 0.3,  # å®Œæ•´æ€§
    "relevance": 0.2,     # ç›¸å…³æ€§
    "clarity": 0.1        # æ¸…æ™°åº¦
}

âœ… æ–¹æ³•2ï¼šA/Bæµ‹è¯•

def ab_test(prompt_a, prompt_b, test_cases):
    """A/Bæµ‹è¯•ä¸¤ä¸ªPrompt"""

    results_a = [evaluate_prompt(prompt_a, [case]) for case in test_cases]
    results_b = [evaluate_prompt(prompt_b, [case]) for case in test_cases]

    score_a = sum(r["total_score"] for r in results_a) / len(results_a)
    score_b = sum(r["total_score"] for r in results_b) / len(results_b)

    return {
        "prompt_a_score": score_a,
        "prompt_b_score": score_b,
        "winner": "A" if score_a > score_b else "B",
        "improvement": abs(score_a - score_b) / min(score_a, score_b) * 100
    }

âœ… æ–¹æ³•3ï¼šäººå·¥è¯„ä¼°

# è¯„ä¼°æ£€æŸ¥è¡¨
evaluation_checklist = """
è¯·è¯„ä¼°ä»¥ä¸‹AIå›ç­”ï¼ˆ1-5åˆ†ï¼‰ï¼š

â–¡ å‡†ç¡®æ€§ï¼šå›ç­”æ˜¯å¦æ­£ç¡®æ— è¯¯
â–¡ å®Œæ•´æ€§ï¼šæ˜¯å¦è¦†ç›–æ‰€æœ‰è¦ç‚¹
â–¡ ç›¸å…³æ€§ï¼šæ˜¯å¦åˆ‡åˆé—®é¢˜
â–¡ æ¸…æ™°æ€§ï¼šæ˜¯å¦æ˜“äºç†è§£
â–¡ å®ç”¨æ€§ï¼šæ˜¯å¦æœ‰å®é™…ä»·å€¼
â–¡ åˆ›é€ æ€§ï¼šæ˜¯å¦æœ‰ç‹¬åˆ°è§è§£
â–¡ æ ¼å¼ï¼šè¾“å‡ºæ ¼å¼æ˜¯å¦ç¬¦åˆè¦æ±‚

æ€»åˆ†ï¼š____ / 35

å…·ä½“åé¦ˆï¼š
- åšå¾—å¥½çš„åœ°æ–¹ï¼š
- éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼š
"""

âœ… æ–¹æ³•4ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•

def automated_tests(response, expected_format):
    """è‡ªåŠ¨åŒ–æµ‹è¯•è¾“å‡º"""

    tests = {
        "has_json": lambda x: "{" in x and "}" in x,
        "has_code_block": lambda x: "```" in x,
        "length_ok": lambda x: 100 < len(x) < 1000,
        "no_hallucination": lambda x: "å¯èƒ½" not in x or "ä¸ç¡®å®š" in x
    }

    results = {}
    for test_name, test_func in tests.items():
        try:
            results[test_name] = test_func(response)
        except:
            results[test_name] = False

    return results

âœ… æ–¹æ³•5ï¼šè¿­ä»£ä¼˜åŒ–

# è®°å½•ä¼˜åŒ–è¿‡ç¨‹
prompt_iterations = [
    {
        "version": "v1.0",
        "prompt": "...",
        "score": 6.5,
        "issues": ["ä¸å¤Ÿå…·ä½“", "ç¼ºå°‘ç¤ºä¾‹"]
    },
    {
        "version": "v1.1",
        "prompt": "...",
        "score": 7.2,
        "issues": ["æ ¼å¼ä¸å¤Ÿæ¸…æ™°"]
    },
    {
        "version": "v1.2",
        "prompt": "...",
        "score": 8.8,
        "issues": []
    }
]

# è¯„ä¼°æµç¨‹å»ºè®®ï¼š
1. å®šä¹‰è¯„ä¼°æ ‡å‡†
2. å‡†å¤‡æµ‹è¯•ç”¨ä¾‹ï¼ˆè¦†ç›–ä¸»è¦åœºæ™¯ï¼‰
3. æ‰§è¡Œæµ‹è¯•ï¼ˆå®šé‡ + å®šæ€§ï¼‰
4. åˆ†æç»“æœ
5. è¯†åˆ«é—®é¢˜
6. ä¼˜åŒ–Prompt
7. é‡æ–°æµ‹è¯•
8. è®°å½•è¿­ä»£è¿‡ç¨‹
```

### Q10: Prompt Engineeringå’Œæ¨¡å‹å¾®è°ƒæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•é€‰æ‹©ï¼Ÿ

**A:**

```python
Prompt Engineering vs æ¨¡å‹å¾®è°ƒ å¯¹æ¯”ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç»´åº¦      â”‚ Prompt Engineering â”‚   æ¨¡å‹å¾®è°ƒ       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æˆæœ¬        â”‚ æä½              â”‚ é«˜               â”‚
â”‚ æ—¶é—´        â”‚ å³æ—¶              â”‚ æ•°å¤©åˆ°æ•°å‘¨       â”‚
â”‚ æŠ€æœ¯é—¨æ§›    â”‚ ä½                â”‚ é«˜               â”‚
â”‚ æ•°æ®éœ€æ±‚    â”‚ å°‘/æ—              â”‚ å¤§é‡æ ‡æ³¨æ•°æ®     â”‚
â”‚ çµæ´»æ€§      â”‚ é«˜ï¼ˆéšæ—¶è°ƒæ•´ï¼‰    â”‚ ä½ï¼ˆå›ºå®šï¼‰       â”‚
â”‚ é€‚ç”¨èŒƒå›´    â”‚ é€šç”¨æ¨¡å‹          â”‚ ç‰¹å®šä»»åŠ¡         â”‚
â”‚ æ•ˆæœä¸Šé™    â”‚ ä¸­ç­‰              â”‚ é«˜               â”‚
â”‚ å¯ç»´æŠ¤æ€§    â”‚ æ˜“äºç»´æŠ¤          â”‚ éœ€è¦ç‰ˆæœ¬ç®¡ç†     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… ä½¿ç”¨Prompt Engineeringçš„åœºæ™¯ï¼š

# 1. å¿«é€ŸåŸå‹å¼€å‘
prompt = "ä½ æ˜¯Pythonä¸“å®¶ï¼Œè¯·è§£é‡Šè£…é¥°å™¨"
# ç«‹å³å¾—åˆ°ç»“æœï¼Œæ— éœ€ç­‰å¾…

# 2. å¤šæ ·åŒ–ä»»åŠ¡
# ä»Šå¤©å†™ä»£ç ï¼Œæ˜å¤©å†™æ–‡æ¡ˆï¼Œåå¤©åšç¿»è¯‘
# ä½¿ç”¨Promptå¯ä»¥çµæ´»åˆ‡æ¢

# 3. æˆæœ¬æ•æ„Ÿ
# åªéœ€æ¶ˆè€—Tokenï¼Œæ— éœ€GPUèµ„æº
# é€‚åˆåˆåˆ›å…¬å¸æˆ–ä¸ªäººé¡¹ç›®

# 4. é¢‘ç¹è¿­ä»£
# éœ€æ±‚ç»å¸¸å˜åŒ–ï¼ŒPromptå¯ä»¥å¿«é€Ÿè°ƒæ•´

# 5. é€šç”¨ä»»åŠ¡
# é—®ç­”ã€æ‘˜è¦ã€ç¿»è¯‘ç­‰é€šç”¨ä»»åŠ¡
# é€šç”¨æ¨¡å‹ + å¥½Promptæ•ˆæœå·²ç»å¾ˆå¥½

âœ… ä½¿ç”¨æ¨¡å‹å¾®è°ƒçš„åœºæ™¯ï¼š

# 1. ç‰¹å®šé¢†åŸŸä»»åŠ¡
# åŒ»ç–—è¯Šæ–­ã€æ³•å¾‹æ–‡ä¹¦ã€é‡‘èåˆ†æ
# éœ€è¦å¤§é‡ä¸“ä¸šçŸ¥è¯†

# 2. æ ¼å¼åŒ–è¾“å‡ºè¦æ±‚æé«˜
# éœ€è¦ä¸¥æ ¼ç¬¦åˆç‰¹å®šæ ¼å¼
# Promptå¾ˆéš¾ä¿è¯100%ä¸€è‡´

# 3. æ€§èƒ½ä¼˜åŒ–
# éœ€è¦æ›´å¿«çš„æ¨ç†é€Ÿåº¦
# æˆ–è€…æ›´ä½çš„å»¶è¿Ÿ

# 4. æ•°æ®å®‰å…¨
# ä¸èƒ½å°†æ•°æ®å‘é€åˆ°å¤–éƒ¨API
# éœ€è¦éƒ¨ç½²ç§æœ‰æ¨¡å‹

# 5. é•¿æœŸå¤§é‡ä½¿ç”¨
# å¾®è°ƒæˆæœ¬å¯ä»¥è¢«æ‘Šè–„
# é•¿æœŸçœ‹æ›´ç»æµ

ğŸ’¡ æ··åˆç­–ç•¥ï¼ˆæ¨èï¼‰ï¼š

# ç¬¬ä¸€é˜¶æ®µï¼šPrompt Engineering
# å¿«é€ŸéªŒè¯æƒ³æ³•ï¼Œç§¯ç´¯æ•°æ®

# ç¬¬äºŒé˜¶æ®µï¼šæ”¶é›†æ•°æ®
# è®°å½•å¥½çš„è¾“å…¥è¾“å‡ºå¯¹
# æ ‡æ³¨é«˜è´¨é‡æ•°æ®

# ç¬¬ä¸‰é˜¶æ®µï¼šè¯„ä¼°éœ€æ±‚
# å¦‚æœPromptæ•ˆæœä¸è¶³
# è€ƒè™‘å¾®è°ƒ

# ç¬¬å››é˜¶æ®µï¼šå¾®è°ƒ + Prompt
# å¾®è°ƒæå‡åŸºç¡€èƒ½åŠ›
# Promptå¼•å¯¼å…·ä½“è¾“å‡º

ç¤ºä¾‹ï¼š

# åˆå§‹ï¼šåªç”¨Prompt
prompt = """
ä½ æ˜¯åŒ»ç–—AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®ç—‡çŠ¶ç»™å‡ºè¯Šæ–­å»ºè®®ã€‚
ã€ç—‡çŠ¶ã€‘
"""

# ç§¯ç´¯æ•°æ®åï¼šå¾®è°ƒæ¨¡å‹
# fine_tune_model(symptoms_diagnosis_data)

# å¾®è°ƒåï¼šä»ç„¶ç”¨Promptå¼•å¯¼
prompt = """
ä½ æ˜¯ä¸“ä¸šåŒ»ç”Ÿï¼ˆæ¨¡å‹å·²å¾®è°ƒï¼‰ã€‚
è¯·æ ¹æ®ä»¥ä¸‹ç—‡çŠ¶ç»™å‡ºè¯Šæ–­ï¼š
1. å¯èƒ½çš„ç–¾ç—…ï¼ˆæŒ‰æ¦‚ç‡æ’åºï¼‰
2. å»ºè®®çš„æ£€æŸ¥
3. æ²»ç–—æ–¹æ¡ˆ

ã€ç—‡çŠ¶ã€‘
"""

# é€‰æ‹©å†³ç­–æ ‘ï¼š
æ˜¯å¦éœ€è¦ï¼Ÿ
â†’ æˆæœ¬æ•æ„Ÿï¼Ÿ
  â†’ æ˜¯ â†’ Prompt Engineering
  â†’ å¦ â†’ ç»§ç»­åˆ¤æ–­

â†’ ä»»åŠ¡ç‰¹æ®Šï¼Ÿ
  â†’ æ˜¯ï¼ˆåŒ»ç–—/æ³•å¾‹ç­‰ï¼‰â†’ è€ƒè™‘å¾®è°ƒ
  â†’ å¦ â†’ ç»§ç»­åˆ¤æ–­

â†’ æ•°æ®å……è¶³ï¼Ÿ
  â†’ æ˜¯ â†’ å¯ä»¥å¾®è°ƒ
  â†’ å¦ â†’ å…ˆç”¨Promptï¼Œæ”¶é›†æ•°æ®

â†’ éœ€è¦çµæ´»è°ƒæ•´ï¼Ÿ
  â†’ æ˜¯ â†’ Prompt Engineering
  â†’ å¦ â†’ è€ƒè™‘å¾®è°ƒ

# å®é™…å»ºè®®ï¼š
- 90%çš„æƒ…å†µï¼šå…ˆç”¨Prompt Engineering
- ç§¯ç´¯æ•°æ®å’Œç»éªŒåå†è€ƒè™‘å¾®è°ƒ
- ä¸è¦ä¸€å¼€å§‹å°±å¾®è°ƒï¼ˆæµªè´¹èµ„æºï¼‰
```

---

## å­¦ä¹ æ¸…å•

æ£€æŸ¥ä½ æŒæ¡äº†ä»¥ä¸‹æŠ€èƒ½ï¼š

### åŸºç¡€æ¦‚å¿µ âœ…

- [ ] ç†è§£Prompt Engineeringçš„å®šä¹‰å’Œä»·å€¼
- [ ] æŒæ¡Promptçš„åŸºæœ¬ç»“æ„è¦ç´ 
- [ ] ç†è§£ä¸ºä»€ä¹ˆéœ€è¦ç²¾å¿ƒè®¾è®¡Prompt
- [ ] èƒ½å¤Ÿè¯†åˆ«å¥½çš„å’Œåçš„Prompt

### æ ¸å¿ƒåŸåˆ™ âœ…

- [ ] æŒæ¡"æ¸…æ™°å…·ä½“"åŸåˆ™
- [ ] ç†è§£"æä¾›ä¸Šä¸‹æ–‡"çš„é‡è¦æ€§
- [ ] èƒ½å¤Ÿæ˜ç¡®æŒ‡å®šè¾“å‡ºæ ¼å¼
- [ ] ç†Ÿç»ƒä½¿ç”¨ç¤ºä¾‹ï¼ˆFew-shotï¼‰
- [ ] èƒ½å¤Ÿè®¾å®šè§’è‰²å’Œä»»åŠ¡

### æç¤ºè¯æ¨¡å¼ âœ…

- [ ] ç†è§£å¹¶ä¼šä½¿ç”¨æ€ç»´é“¾ï¼ˆCoTï¼‰
- [ ] æŒæ¡Few-shot LearningæŠ€å·§
- [ ] äº†è§£è‡ªæ´½æ€§ï¼ˆSelf-Consistencyï¼‰
- [ ] ä¼šä½¿ç”¨"å…ˆç”Ÿæˆåä¼˜åŒ–"æ¨¡å¼
- [ ] ç†Ÿç»ƒè¿ç”¨è§’è‰²æ‰®æ¼”æŠ€å·§

### é«˜çº§æŠ€å·§ âœ…

- [ ] ç†è§£æ€ç»´æ ‘ï¼ˆTree of Thoughtsï¼‰
- [ ] ä¼šä½¿ç”¨é€†å‘æç¤ºï¼ˆReverse Promptingï¼‰
- [ ] æŒæ¡æ¸è¿›å¼æç¤ºï¼ˆProgressive Promptingï¼‰
- [ ] èƒ½å¤Ÿä½¿ç”¨æ¯”è¾ƒå¼æç¤º
- [ ] ç†è§£åæ€ä¸æ”¹è¿›æŠ€å·§

### å®æˆ˜èƒ½åŠ› âœ…

- [ ] èƒ½å¤Ÿä¸ºä¸åŒåœºæ™¯è®¾è®¡Promptæ¨¡æ¿
- [ ] èƒ½å¤Ÿä¼˜åŒ–ä¸æ»¡æ„çš„Prompt
- [ ] æŒæ¡Promptæµ‹è¯•æ–¹æ³•
- [ ] èƒ½å¤Ÿè¿›è¡ŒA/Bæµ‹è¯•
- [ ] ç†è§£Tokenä¼˜åŒ–ç­–ç•¥
- [ ] èƒ½å¤Ÿè®¾è®¡å¤šè½®å¯¹è¯Prompt

### æœ€ä½³å®è·µ âœ…

- [ ] å»ºç«‹è‡ªå·±çš„Promptæ¨¡æ¿åº“
- [ ] ç†è§£Promptç‰ˆæœ¬ç®¡ç†
- [ ] æŒæ¡Promptè¿­ä»£æ–¹æ³•
- [ ] èƒ½å¤Ÿè¯„ä¼°Promptæ•ˆæœ
- [ ] äº†è§£Prompt Engineeringçš„å±€é™æ€§
- [ ] çŸ¥é“ä½•æ—¶éœ€è¦æ¨¡å‹å¾®è°ƒ

---

## è¿›é˜¶ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šä¼˜åŒ–å®æˆ˜

**ä»»åŠ¡**ï¼šå°†ä»¥ä¸‹Promptä¼˜åŒ–åˆ°9åˆ†ä»¥ä¸Šï¼ˆæ»¡åˆ†10åˆ†ï¼‰

```python
bad_prompt = "å†™ä¸ªçˆ¬è™«"
```

**è¦æ±‚**ï¼š
1. é€æ­¥ä¼˜åŒ–ï¼ˆè‡³å°‘3ä¸ªç‰ˆæœ¬ï¼‰
2. æ¯ä¸ªç‰ˆæœ¬éƒ½è¦è¯´æ˜æ”¹è¿›ç‚¹
3. æœ€ç»ˆç‰ˆæœ¬è¦åŒ…å«ï¼šè§’è‰²ã€ä»»åŠ¡ã€çº¦æŸã€æ ¼å¼ã€ç¤ºä¾‹
4. æµ‹è¯•å¹¶æ¯”è¾ƒæ•ˆæœ

**è¯„åˆ†æ ‡å‡†**ï¼š
- æ¸…æ™°åº¦ï¼ˆ2åˆ†ï¼‰
- å®Œæ•´æ€§ï¼ˆ3åˆ†ï¼‰
- å¯æ‰§è¡Œæ€§ï¼ˆ3åˆ†ï¼‰
- æ ¼å¼è§„èŒƒï¼ˆ2åˆ†ï¼‰

### ç»ƒä¹ 2ï¼šFew-shot Learningå®æˆ˜

**ä»»åŠ¡**ï¼šä¸ºä»£ç å®¡æŸ¥ä»»åŠ¡åˆ›å»ºFew-shot Prompt

**è¦æ±‚**ï¼š
1. è®¾è®¡5-8ä¸ªä»£ç ç¤ºä¾‹
2. ç¤ºä¾‹è¦è¦†ç›–ä¸åŒé—®é¢˜ç±»å‹ï¼š
   - é£æ ¼é—®é¢˜
   - æ€§èƒ½é—®é¢˜
   - å®‰å…¨é—®é¢˜
   - è¾¹ç•Œæƒ…å†µ
3. æ¯ä¸ªç¤ºä¾‹åŒ…å«ï¼š
   - é—®é¢˜ä»£ç 
   - é—®é¢˜è¯´æ˜
   - æ”¹è¿›å»ºè®®
4. æµ‹è¯•Few-shotæ•ˆæœ

### ç»ƒä¹ 3ï¼šå¤æ‚ä»»åŠ¡åˆ†è§£

**ä»»åŠ¡**ï¼šä½¿ç”¨"æ¸è¿›å¼æç¤º"å®Œæˆå¤æ‚ä»»åŠ¡

**åœºæ™¯**ï¼šæ„å»ºä¸€ä¸ªPythonä»£ç ç”Ÿæˆå™¨

**æ­¥éª¤**ï¼š
1. ç¬¬ä¸€å±‚ï¼šç†è§£éœ€æ±‚
   - è¯¢é—®ç”¨æˆ·æƒ³ç”Ÿæˆä»€ä¹ˆä»£ç 
   - äº†è§£åŠŸèƒ½éœ€æ±‚
   - æ˜ç¡®æŠ€æœ¯æ ˆ

2. ç¬¬äºŒå±‚ï¼šè®¾è®¡æ¶æ„
   - è®¾è®¡ä»£ç ç»“æ„
   - ç¡®å®šç±»å’Œå‡½æ•°
   - è§„åˆ’æ¨¡å—åˆ’åˆ†

3. ç¬¬ä¸‰å±‚ï¼šç”Ÿæˆä»£ç 
   - é€æ­¥ç”Ÿæˆä»£ç 
   - æ·»åŠ æ³¨é‡Š
   - å¤„ç†è¾¹ç•Œæƒ…å†µ

4. ç¬¬å››å±‚ï¼šæµ‹è¯•ä¼˜åŒ–
   - æä¾›æµ‹è¯•ç”¨ä¾‹
   - æ€§èƒ½ä¼˜åŒ–å»ºè®®
   - ä½¿ç”¨æ–‡æ¡£

**è¾“å‡º**ï¼šå®Œæ•´çš„ä»£ç ç”Ÿæˆç³»ç»Ÿ

### ç»ƒä¹ 4ï¼šå¤šè½®å¯¹è¯è®¾è®¡

**ä»»åŠ¡**ï¼šè®¾è®¡ä¸€ä¸ªPythonå­¦ä¹ åŠ©æ‰‹çš„å¤šè½®å¯¹è¯

**è¦æ±‚**ï¼š
1. è‡³å°‘5è½®å¯¹è¯
2. æ¯è½®å¯¹è¯æœ‰æ˜ç¡®ç›®æ ‡
3. ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡
4. æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´
5. æœ€ç»ˆè¾“å‡ºå­¦ä¹ è®¡åˆ’

**åœºæ™¯ç¤ºä¾‹**ï¼š
- ç¬¬1è½®ï¼šäº†è§£ç”¨æˆ·èƒŒæ™¯
- ç¬¬2è½®ï¼šç¡®å®šå­¦ä¹ ç›®æ ‡
- ç¬¬3è½®ï¼šåˆ¶å®šå­¦ä¹ è®¡åˆ’
- ç¬¬4è½®ï¼šæä¾›å­¦ä¹ èµ„æº
- ç¬¬5è½®ï¼šè®¾è®¡ç»ƒä¹ é¢˜

### ç»ƒä¹ 5ï¼šPromptæ•ˆæœè¯„ä¼°ç³»ç»Ÿ

**ä»»åŠ¡**ï¼šæ„å»ºä¸€ä¸ªPromptè¯„ä¼°å·¥å…·

**åŠŸèƒ½**ï¼š
1. è¾“å…¥ï¼šPrompt + æµ‹è¯•ç”¨ä¾‹
2. æ‰§è¡Œï¼šè¿è¡Œå¤šä¸ªæµ‹è¯•
3. è¯„ä¼°ï¼šè‡ªåŠ¨è¯„åˆ†
4. å¯¹æ¯”ï¼šå¯¹æ¯”ä¸åŒç‰ˆæœ¬
5. æŠ¥å‘Šï¼šç”Ÿæˆè¯¦ç»†æŠ¥å‘Š

**è¯„ä¼°ç»´åº¦**ï¼š
- å‡†ç¡®æ€§
- å®Œæ•´æ€§
- ç›¸å…³æ€§
- æ¸…æ™°æ€§
- å®ç”¨æ€§

**è¾“å‡ºæ ¼å¼**ï¼š
```json
{
    "prompt_version": "v2.0",
    "total_score": 8.5,
    "test_results": [...],
    "improvements": [...]
}
```

---

## å®æˆ˜é¡¹ç›®

### é¡¹ç›®1ï¼šæ™ºèƒ½ä»£ç ç”Ÿæˆç³»ç»Ÿ

**ç›®æ ‡**ï¼šæ„å»ºä¸€ä¸ªå¯ä»¥æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆä»£ç çš„ç³»ç»Ÿ

**è¦æ±‚**ï¼š
1. æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
2. å¯ä»¥ç”Ÿæˆç‰¹å®šåŠŸèƒ½çš„ä»£ç 
3. åŒ…å«é”™è¯¯å¤„ç†å’Œæ³¨é‡Š
4. æä¾›ä½¿ç”¨ç¤ºä¾‹

**æ¶‰åŠæŠ€èƒ½**ï¼š
- è§’è‰²è®¾å®š
- Few-shot Learning
- ä»£ç æ ¼å¼åŒ–
- è¾“å‡ºè§£æ

### é¡¹ç›®2ï¼šPromptæ¨¡æ¿åº“

**ç›®æ ‡**ï¼šåˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„Promptæ¨¡æ¿åº“

**è¦æ±‚**ï¼š
1. è‡³å°‘åŒ…å«10ä¸ªåœºæ™¯æ¨¡æ¿ï¼š
   - ä»£ç ç”Ÿæˆ
   - ä»£ç å®¡æŸ¥
   - æ–‡æ¡£ç”Ÿæˆ
   - Bugè°ƒè¯•
   - æ€§èƒ½ä¼˜åŒ–
   - ä»£ç é‡æ„
   - å•å…ƒæµ‹è¯•
   - APIè®¾è®¡
   - æ¶æ„è®¾è®¡
   - æŠ€æœ¯é€‰å‹
2. æ¯ä¸ªæ¨¡æ¿æ”¯æŒå‚æ•°åŒ–
3. æä¾›ä½¿ç”¨ç¤ºä¾‹
4. åŒ…å«æœ€ä½³å®è·µ

**æŠ€æœ¯å®ç°**ï¼š
```python
class PromptLibrary:
    def get_template(self, scenario, **kwargs):
        """è·å–ç‰¹å®šåœºæ™¯çš„Promptæ¨¡æ¿"""

    def list_scenarios(self):
        """åˆ—å‡ºæ‰€æœ‰å¯ç”¨åœºæ™¯"""

    def customize_template(self, scenario, modifications):
        """è‡ªå®šä¹‰æ¨¡æ¿"""
```

### é¡¹ç›®3ï¼šPromptä¼˜åŒ–å·¥å…·

**ç›®æ ‡**ï¼šè‡ªåŠ¨åŒ–ä¼˜åŒ–Promptçš„å·¥å…·

**åŠŸèƒ½**ï¼š
1. åˆ†æç°æœ‰Promptçš„é—®é¢˜
2. æä¾›æ”¹è¿›å»ºè®®
3. è‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–ç‰ˆæœ¬
4. A/Bæµ‹è¯•å¯¹æ¯”

**å®ç°æ€è·¯**ï¼š
```python
class PromptOptimizer:
    def analyze(self, prompt):
        """åˆ†æPromptçš„é—®é¢˜"""

    def suggest_improvements(self, prompt):
        """æä¾›æ”¹è¿›å»ºè®®"""

    def optimize(self, prompt, suggestions):
        """åº”ç”¨ä¼˜åŒ–"""

    def evaluate(self, original, optimized):
        """è¯„ä¼°ä¼˜åŒ–æ•ˆæœ"""
```

---

## å­¦ä¹ èµ„æº

### æ¨èé˜…è¯»

1. **OpenAIå®˜æ–¹æ–‡æ¡£**
   - Prompt EngineeringæŒ‡å—
   - Best Practices
   - Examples

2. **Anthropic's Claude Prompt Library**
   - å¤§é‡å®ç”¨Promptç¤ºä¾‹
   - ä¸åŒåœºæ™¯çš„æ¨¡æ¿

3. **Prompt Engineering Guide**
   - ç³»ç»ŸåŒ–çš„æ•™ç¨‹
   - æœ€æ–°ç ”ç©¶è¿›å±•

### å®è·µå¹³å°

- **OpenAI Playground**ï¼šå¿«é€Ÿæµ‹è¯•Prompt
- **LangSmith**ï¼šè°ƒè¯•å’Œè¯„ä¼°Prompt
- **PromptBase**ï¼šPromptå¸‚åœº

### ç¤¾åŒºèµ„æº

- **Reddit**ï¼šr/LocalLLaMA, r/OpenAI
- **Discord**ï¼šAIå¼€å‘ç¤¾åŒº
- **GitHub**ï¼šå¼€æºPrompté¡¹ç›®

---

**ä¸‹ä¸€ç« ï¼š[RAGæ£€ç´¢å¢å¼ºç”Ÿæˆ â†’](chapter-04)**
