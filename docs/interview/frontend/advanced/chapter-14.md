---
title: å¤§å‹å®æˆ˜é¡¹ç›®ç»éªŒé¢è¯•é¢˜
---

# å¤§å‹å®æˆ˜é¡¹ç›®ç»éªŒé¢è¯•é¢˜

> æœ¬ç« é’ˆå¯¹æ–‡æ¡£ä¸­çš„14ä¸ªå®æˆ˜é¡¹ç›®ï¼Œç»“åˆ2024-2026å¹´é«˜é¢‘é¢è¯•é¢˜ï¼Œè®¾è®¡é’ˆå¯¹æ€§çš„é¢è¯•é¢˜ï¼Œå¸®åŠ©ä½ æ·±å…¥ç†è§£æ¯ä¸ªé¡¹ç›®çš„æŠ€æœ¯è¦ç‚¹å’Œé¢è¯•é‡ç‚¹ã€‚

## é¡¹ç›®æ¦‚è§ˆ

### Vue3 æŠ€æœ¯æ ˆå®æˆ˜é¡¹ç›®ï¼ˆ5ä¸ªï¼‰

| é¡¹ç›® | æŠ€æœ¯æ ˆ | æ ¸å¿ƒç‰¹ç‚¹ |
|-----|-------|---------|
| **é¡¹ç›®1**ï¼šVue3 ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿ | Vue3 + Pinia + Element Plus | æƒé™ç³»ç»Ÿã€åŠ¨æ€è·¯ç”±ã€æ•°æ®å¯è§†åŒ– |
| **é¡¹ç›®2**ï¼šVue3 ä¼ä¸šçº§SaaSå¹³å° | Vue3 + Prisma + Stripe | å¤šç§Ÿæˆ·éš”ç¦»ã€è®¢é˜…è®¡è´¹ã€å·¥ä½œæµå¼•æ“ |
| **é¡¹ç›®3**ï¼šç§»åŠ¨ç«¯+ç®¡ç†åå°å…¨æ ˆåº”ç”¨ | uni-app + SSR + WebSocket | è·¨ç«¯é€‚é…ã€æ–‡ä»¶ä¸Šä¼ ã€å®æ—¶é€šè®¯ |
| **é¡¹ç›®4**ï¼šå¾®å‰ç«¯ä¼ä¸šçº§åº”ç”¨å¹³å° | qiankun + Vue3 | ä¸»å­é€šä¿¡ã€åº”ç”¨éš”ç¦»ã€ç‹¬ç«‹éƒ¨ç½² |
| **é¡¹ç›®5**ï¼šåŸºäºMicroAppçš„å¾®ç”µå•†å¹³å° | MicroApp + Vue3 | é›¶ä¾µå…¥æ¥å…¥ã€ShadowDOMéš”ç¦» |

### React æŠ€æœ¯æ ˆå®æˆ˜é¡¹ç›®ï¼ˆ3ä¸ªï¼‰

| é¡¹ç›® | æŠ€æœ¯æ ˆ | æ ¸å¿ƒç‰¹ç‚¹ |
|-----|-------|---------|
| **é¡¹ç›®6**ï¼šReact 19 ä¼ä¸šçº§ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ | React 19 + Zustand + TanStack Query | React 19æ–°ç‰¹æ€§ã€å®æ—¶æ›´æ–°ã€è¡¨å•å¤„ç† |
| **é¡¹ç›®7**ï¼šReact 19 + Next.js 15 ç°ä»£åŒ–ç”µå•†å¹³å° | React 19 + Next.js 15 + Stripe | RSCã€Server Actionsã€å…¨æ ˆå¼€å‘ |
| **é¡¹ç›®8**ï¼šReact 19 å®æ—¶æ•°æ®å¯è§†åŒ–å¤§å±ç³»ç»Ÿ | React 19 + ECharts + WebSocket | å¤§å±å¯è§†åŒ–ã€å®æ—¶æ•°æ®æ¨é€ã€æ€§èƒ½ä¼˜åŒ– |

### Next.js æŠ€æœ¯æ ˆå®æˆ˜é¡¹ç›®ï¼ˆ3ä¸ªï¼‰

| é¡¹ç›® | æŠ€æœ¯æ ˆ | æ ¸å¿ƒç‰¹ç‚¹ |
|-----|-------|---------|
| **é¡¹ç›®9**ï¼šNext.js 15 AIå†…å®¹ç”Ÿæˆå¹³å° | Next.js 15 + AI SDK | Server Componentsã€æµå¼å“åº”ã€AIé›†æˆ |
| **é¡¹ç›®10**ï¼šNext.js 15 ä¼ä¸šçº§CMSç³»ç»Ÿ | Next.js 15 + Prisma | Headless CMSã€åŠ¨æ€è·¯ç”±ã€å¢é‡é™æ€ç”Ÿæˆ |
| **é¡¹ç›®11**ï¼šNext.js 15 å¾®æœåŠ¡æ¶æ„ç”µå•†å¹³å° | Next.js 15 + Microservices | å¾®æœåŠ¡æ¶æ„ã€BFFã€APIèšåˆ |

### Nuxt æŠ€æœ¯æ ˆå®æˆ˜é¡¹ç›®ï¼ˆ3ä¸ªï¼‰

| é¡¹ç›® | æŠ€æœ¯æ ˆ | æ ¸å¿ƒç‰¹ç‚¹ |
|-----|-------|---------|
| **é¡¹ç›®12**ï¼šNuxt 4 å…¨æ ˆç”µå•†åå°ç®¡ç†ç³»ç»Ÿ | Nuxt 4 + Prisma + PostgreSQL | SSRã€æœåŠ¡ç«¯APIã€å…¨æ ˆå¼€å‘ |
| **é¡¹ç›®13**ï¼šNuxt 4 å®æ—¶åä½œå¹³å° | Nuxt 4 + WebSocket + Redis | å®æ—¶åä½œã€çŠ¶æ€åŒæ­¥ã€åœ¨çº¿ç¼–è¾‘ |
| **é¡¹ç›®14**ï¼šNuxt 4 ç¤¾äº¤ç½‘ç»œä¸å†…å®¹ç¤¾åŒºå¹³å° | Nuxt 4 + Serverless | SSG/ISRã€è¾¹ç¼˜éƒ¨ç½²ã€æ€§èƒ½ä¼˜åŒ– |

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šVue3 æ ¸å¿ƒé¢è¯•é¢˜

### é«˜é¢‘å¿…é—®ï¼šVue3å“åº”å¼åŸç†

**é¢è¯•å®˜æœ€çˆ±é—®çš„é—®é¢˜ï¼ˆ2024-2026ï¼‰**ï¼š

**é—®é¢˜**ï¼šVue3çš„å“åº”å¼ç³»ç»Ÿç›¸æ¯”Vue2æœ‰ä»€ä¹ˆæ ¸å¿ƒæ”¹è¿›ï¼Ÿ

**å‚è€ƒç­”æ¡ˆ**ï¼š

```javascript
// Vue2 vs Vue3 å“åº”å¼å¯¹æ¯”

// ===== Vue2: Object.defineProperty =====
const Vue2Reactive = (obj) => {
  Object.keys(obj).forEach(key => {
    let value = obj[key];

    Object.defineProperty(obj, key, {
      get() {
        console.log(`è·å– ${key}`);
        return value;
      },
      set(newVal) {
        console.log(`è®¾ç½® ${key} = ${newVal}`);
        value = newVal;
      }
    });
  });

  return obj;
};

// é—®é¢˜ï¼š
// 1. æ— æ³•ç›‘å¬æ•°ç»„ç´¢å¼•å’Œé•¿åº¦çš„å˜åŒ–
// 2. æ— æ³•ç›‘å¬å¯¹è±¡å±æ€§çš„æ·»åŠ /åˆ é™¤
// 3. å¿…é¡»éå†æ‰€æœ‰å±æ€§ï¼Œæ€§èƒ½å¼€é”€å¤§

// ===== Vue3: Proxy =====
const Vue3Reactive = (obj) => {
  return new Proxy(obj, {
    get(target, key) {
      console.log(`ğŸ“¥ è·å– ${key}`);
      track(target, key); // ä¾èµ–æ”¶é›†
      return target[key];
    },

    set(target, key, value) {
      console.log(`ğŸ“¤ è®¾ç½® ${key} = ${value}`);
      target[key] = value;
      trigger(target, key); // è§¦å‘æ›´æ–°
      return true;
    },

    // Vue3æ–°å¢èƒ½åŠ›
    deleteProperty(target, key) {
      delete target[key];
      trigger(target, key);
      return true;
    },

    has(target, key) {
      return key in target;
    },

    ownKeys(target) {
      return Reflect.ownKeys(target);
    }
  });
};

// ä¾èµ–æ”¶é›†
let activeEffect = null;
const targetMap = new WeakMap();

function track(target, key) {
  if (!activeEffect) return;

  let depsMap = targetMap.get(target);
  if (!depsMap) {
    targetMap.set(target, (depsMap = new Map()));
  }

  let dep = depsMap.get(key);
  if (!dep) {
    depsMap.set(key, (dep = new Set()));
  }

  dep.add(activeEffect);
}

// è§¦å‘æ›´æ–°
function trigger(target, key) {
  const depsMap = targetMap.get(target);
  if (!depsMap) return;

  const dep = depsMap.get(key);
  if (dep) {
    dep.forEach(effect => effect());
  }
}
```

**è¿½é—®1**ï¼šVue3ä¸ºä»€ä¹ˆä½¿ç”¨WeakMapè€Œä¸æ˜¯Mapï¼Ÿ

**ç­”æ¡ˆ**ï¼š
- **è‡ªåŠ¨åƒåœ¾å›æ”¶**ï¼šWeakMapçš„é”®æ˜¯å¼±å¼•ç”¨ï¼Œä¸é˜»æ­¢åƒåœ¾å›æ”¶
- **å†…å­˜å®‰å…¨**ï¼šå½“å¯¹è±¡è¢«é”€æ¯æ—¶ï¼ŒWeakMapä¸­çš„æ¡ç›®è‡ªåŠ¨æ¸…é™¤
- **é˜²æ­¢å†…å­˜æ³„æ¼**ï¼šVue2ä¸­éœ€è¦æ‰‹åŠ¨æ¸…ç†ä¾èµ–ï¼ŒVue3è‡ªåŠ¨å¤„ç†

**è¿½é—®2**ï¼šrefå’Œreactiveçš„åŒºåˆ«ï¼Ÿ

**ç­”æ¡ˆ**ï¼š

```typescript
import { ref, reactive } from 'vue';

// refï¼šç”¨äºåŸºæœ¬ç±»å‹ï¼Œéœ€è¦.valueè®¿é—®
const count = ref(0);
console.log(count.value); // 0
count.value++;

// reactiveï¼šç”¨äºå¯¹è±¡ç±»å‹ï¼Œç›´æ¥è®¿é—®
const state = reactive({
  count: 0,
  name: 'Vue3'
});
console.log(state.count); // 0
state.count++;

// ref vs reactive é€‰æ‹©å»ºè®®
// âœ… ä½¿ç”¨ refï¼šåŸºæœ¬ç±»å‹ã€éœ€è¦æ•´ä½“æ›¿æ¢çš„å¯¹è±¡ã€è§£æ„æ—¶
// âœ… ä½¿ç”¨ reactiveï¼šæ·±å±‚åµŒå¥—å¯¹è±¡ã€ä¿æŒå¼•ç”¨ä¸å˜
```

---

### é¡¹ç›®ä¸€ï¼šVue3 ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿ

#### é¢è¯•é—®é¢˜ 1ï¼šå¦‚ä½•è®¾è®¡å’Œå®ç°RBACæƒé™ç³»ç»Ÿï¼Ÿ

**2025å¹´é«˜é¢‘é¢è¯•é¢˜**ï¼Œè€ƒå¯Ÿæƒé™ç®¡ç†çš„æœ€ä½³å®è·µã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== 1. RBACæƒé™æ¨¡å‹ =====
interface Permission {
  id: string;
  code: string;        // 'user:create', 'user:delete'
  name: string;
  type: 'menu' | 'button' | 'api';
  resource: string;    // èµ„æºè·¯å¾„
}

interface Role {
  id: string;
  name: string;
  permissions: Permission[];
}

interface User {
  id: string;
  username: string;
  roles: Role[];
  permissions: Permission[];
}

// ===== 2. Piniaæƒé™Store =====
// stores/permission.ts
import { defineStore } from 'pinia';

export const usePermissionStore = defineStore('permission', {
  state: () => ({
    permissions: [] as string[],
    roles: [] as string[],
    routes: [] as RouteRecordRaw[],
    user: null as User | null,
  }),

  getters: {
    // åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªæƒé™
    hasPermission: (state) => (permission: string) => {
      return state.permissions.includes(permission) ||
             state.permissions.includes('*:*'); // è¶…çº§ç®¡ç†å‘˜
    },

    // åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªè§’è‰²
    hasRole: (state) => (role: string) => {
      return state.roles.includes(role) ||
             state.roles.includes('admin');
    },

    // åˆ¤æ–­æ˜¯å¦æ˜¯è¶…çº§ç®¡ç†å‘˜
    isAdmin: (state) => {
      return state.permissions.includes('*:*') ||
             state.roles.includes('admin');
    },

    // æ•°æ®æƒé™ï¼šåªèƒ½çœ‹è‡ªå·±éƒ¨é—¨çš„æ•°æ®
    dataScope: (state) => {
      if (state.isAdmin) return 'all';
      if (state.permissions.includes('data:department')) return 'department';
      return 'self';
    }
  },

  actions: {
    // ä»åç«¯åŠ è½½æƒé™
    async loadPermissions() {
      const { data } = await api.get('/user/permissions');

      this.user = data.user;
      this.permissions = data.permissions;
      this.roles = data.roles;

      // ç”ŸæˆåŠ¨æ€è·¯ç”±
      this.routes = await this.generateRoutes(data.permissions);
    },

    // æ ¹æ®æƒé™ç”Ÿæˆè·¯ç”±
    async generateRoutes(permissions: string[]) {
      const { data } = await api.get('/menu/list');

      // è¿‡æ»¤æœ‰æƒé™è®¿é—®çš„èœå•
      const accessibleMenus = data.filter(menu =>
        permissions.includes(menu.permission)
      );

      // è½¬æ¢ä¸ºè·¯ç”±é…ç½®
      return this.convertToRoutes(accessibleMenus);
    },

    // åˆ·æ–°æƒé™ï¼ˆå®æ—¶ç”Ÿæ•ˆï¼‰
    async refreshPermissions() {
      await this.loadPermissions();
      // é‡æ–°åŠ è½½é¡µé¢æˆ–æ›´æ–°è§†å›¾
      window.location.reload();
    }
  }
});

// ===== 3. æƒé™æŒ‡ä»¤ =====
// directives/permission.ts
import type { Directive, DirectiveBinding } from 'vue';
import { usePermissionStore } from '@/stores/permission';

const permission: Directive = {
  mounted(el: HTMLElement, binding: DirectiveBinding) {
    const { value } = binding;
    const store = usePermissionStore();

    if (value && !store.hasPermission(value)) {
      // æ²¡æœ‰æƒé™ï¼Œç§»é™¤å…ƒç´ 
      el.parentNode?.removeChild(el);
    }
  },

  // ä¹Ÿæ”¯æŒå‡½æ•°å¼è°ƒç”¨
  updated(el: HTMLElement, binding: DirectiveBinding) {
    const { value } = binding;
    const store = usePermissionStore();

    const hasPermission = value ? store.hasPermission(value) : true;
    el.style.display = hasPermission ? '' : 'none';
  }
};

export default permission;

// ä½¿ç”¨
// <el-button v-permission="'user:create'">æ–°å¢ç”¨æˆ·</el-button>

// ===== 4. è·¯ç”±å®ˆå« =====
// router/permissions.ts
import { usePermissionStore } from '@/stores/permission';

export function setupPermissions(router: Router) {
  router.beforeEach(async (to, from, next) => {
    const permissionStore = usePermissionStore();

    // ç™½åå•è·¯ç”±
    const whiteList = ['/login', '/404', '/403'];
    if (whiteList.includes(to.path)) {
      return next();
    }

    // æ£€æŸ¥æ˜¯å¦ç™»å½•
    if (!permissionStore.user) {
      return next('/login');
    }

    // æ£€æŸ¥è·¯ç”±æƒé™
    if (to.meta.permission) {
      if (permissionStore.hasPermission(to.meta.permission as string)) {
        return next();
      } else {
        return next('/403');
      }
    }

    next();
  });
}

// ===== 5. APIæƒé™æ‹¦æˆª =====
// utils/request.ts
import { usePermissionStore } from '@/stores/permission';

request.interceptors.request.use((config) => {
  const permissionStore = usePermissionStore();

  // æ·»åŠ æƒé™ä»¤ç‰Œ
  if (permissionStore.user) {
    config.headers['Authorization'] = `Bearer ${permissionStore.user.token}`;
  }

  return config;
});

request.interceptors.response.use(
  response => response,
  error => {
    if (error.response?.status === 403) {
      // æƒé™ä¸è¶³
      ElMessage.error('æƒé™ä¸è¶³');
      router.push('/403');
    }
    return Promise.reject(error);
  }
);
```

**é¢è¯•è¿½é—®**ï¼š
1. **å¦‚æœæƒé™å˜æ›´ï¼Œå¦‚ä½•å®ç°å®æ—¶ç”Ÿæ•ˆï¼Ÿ**
   - WebSocketæ¨é€æƒé™å˜æ›´é€šçŸ¥
   - å®šæ—¶åˆ·æ–°æƒé™ï¼ˆå¦‚æ¯5åˆ†é’Ÿï¼‰
   - å…³é”®æ“ä½œå‰é‡æ–°éªŒè¯æƒé™

2. **å¦‚ä½•å¤„ç†æ•°æ®æƒé™ï¼ˆå¦‚åªèƒ½çœ‹è‡ªå·±éƒ¨é—¨çš„æ•°æ®ï¼‰ï¼Ÿ**
   - åç«¯ï¼šæŸ¥è¯¢æ—¶æ·»åŠ  WHERE department_id = ?
   - å‰ç«¯ï¼šè¡¨æ ¼åˆ—å±•ç¤ºæ—¶è¿‡æ»¤æ•æ„Ÿåˆ—
   - APIï¼šå“åº”ä¸­æ ¹æ®æƒé™è¿”å›ä¸åŒå­—æ®µ

---

### é¡¹ç›®äºŒï¼šVue3 ä¼ä¸šçº§SaaSå¹³å°

#### é¢è¯•é—®é¢˜ 2ï¼šå¦‚ä½•å®ç°å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»ï¼Ÿ

**ä¼ä¸šçº§é¢è¯•å¿…é—®é¢˜**ï¼Œè€ƒå¯ŸSaaSæ¶æ„è®¾è®¡èƒ½åŠ›ã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== 1. ç§Ÿæˆ·ä¸Šä¸‹æ–‡ç®¡ç† =====
// composables/useTenant.ts
import { computed } from 'vue';
import { useTenantStore } from '@/stores/tenant';

export function useTenant() {
  const tenantStore = useTenantStore();

  // å½“å‰ç§Ÿæˆ·
  const currentTenant = computed(() => tenantStore.currentTenant);

  // ç§Ÿæˆ·ID
  const tenantId = computed(() => currentTenant.value?.id);

  // æ˜¯å¦æ˜¯ç§Ÿæˆ·æ‰€æœ‰è€…
  const isOwner = computed(() =>
    tenantStore.currentRole === 'OWNER'
  );

  // æ˜¯å¦æ˜¯ç®¡ç†å‘˜
  const isAdmin = computed(() =>
    ['OWNER', 'ADMIN'].includes(tenantStore.currentRole || '')
  );

  // åˆ‡æ¢ç§Ÿæˆ·
  const switchTenant = async (newTenantId: string) => {
    // 1. æ¸…ç†å½“å‰ç§Ÿæˆ·æ•°æ®
    await tenantStore.clearTenantData();

    // 2. åˆ‡æ¢ç§Ÿæˆ·
    await tenantStore.switchTenant(newTenantId);

    // 3. é‡æ–°åŠ è½½é¡µé¢
    window.location.reload();
  };

  return {
    currentTenant,
    tenantId,
    isOwner,
    isAdmin,
    switchTenant,
  };
}

// ===== 2. APIè¯·æ±‚æ‹¦æˆªå™¨ï¼ˆè‡ªåŠ¨æ·»åŠ ç§Ÿæˆ·æ ‡è¯†ï¼‰=====
// utils/request.ts
import axios from 'axios';
import { useTenantStore } from '@/stores/tenant';

const request = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
});

// è¯·æ±‚æ‹¦æˆªå™¨
request.interceptors.request.use(
  (config) => {
    const tenantStore = useTenantStore();
    const tenantId = tenantStore.currentTenant?.id;

    if (tenantId) {
      // æ–¹å¼1ï¼šé€šè¿‡è¯·æ±‚å¤´ä¼ é€’ç§Ÿæˆ·ID
      config.headers['X-Tenant-ID'] = tenantId;

      // æ–¹å¼2ï¼šé€šè¿‡URLå‚æ•°ä¼ é€’ï¼ˆæŸäº›APIç½‘å…³è¦æ±‚ï¼‰
      if (config.params) {
        config.params['tenantId'] = tenantId;
      } else {
        config.params = { tenantId };
      }

      // æ–¹å¼3ï¼šå­åŸŸåéš”ç¦»ï¼ˆå¦‚ tenant1.app.comï¼‰
      // config.baseURL = `https://${tenantId}.app.com/api`;
    }

    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// ===== 3. è·¯ç”±çº§ç§Ÿæˆ·éš”ç¦» =====
// router/index.ts
const routes = [
  {
    path: '/:tenantId',  // ç§Ÿæˆ·IDä½œä¸ºè·¯ç”±å‚æ•°
    component: TenantLayout,
    children: [
      {
        path: 'dashboard',
        component: Dashboard,
        meta: { requiresAuth: true }
      },
      {
        path: 'users',
        component: Users,
        meta: { permission: 'user:read' }
      },
      // ... å…¶ä»–è·¯ç”±
    ],
  },
  // å…¨å±€è·¯ç”±ï¼ˆç™»å½•é¡µç­‰ï¼‰
  {
    path: '/login',
    component: Login
  }
];

// è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {
  const tenantStore = useTenantStore();

  // æå–ç§Ÿæˆ·ID
  const tenantId = to.params.tenantId as string;

  if (tenantId && tenantId !== tenantStore.currentTenant?.id) {
    // åˆ‡æ¢åˆ°æŒ‡å®šç§Ÿæˆ·
    tenantStore.setCurrentTenant(tenantId);
  }

  next();
});

// ===== 4. ç§Ÿæˆ·æ•°æ®ç¼“å­˜ç­–ç•¥ =====
// utils/tenantCache.ts
const tenantCache = new Map<string, any>();

export function getTenantCache<T>(
  tenantId: string,
  key: string,
  fetchFn: () => Promise<T>
): Promise<T> {
  const cacheKey = `${tenantId}:${key}`;
  const cached = tenantCache.get(cacheKey);

  if (cached) {
    return cached;
  }

  const promise = fetchFn();
  tenantCache.set(cacheKey, promise);

  return promise;
}

// æ¸…é™¤ç§Ÿæˆ·ç¼“å­˜
export function clearTenantCache(tenantId: string) {
  for (const key of tenantCache.keys()) {
    if (key.startsWith(`${tenantId}:`)) {
      tenantCache.delete(key);
    }
  }
}

// ===== 5. æ•°æ®åº“éš”ç¦»ç¤ºä¾‹ï¼ˆåç«¯ï¼‰=====
/*
// PostgreSQL Row Level Security (RLS)
CREATE POLICY tenant_isolation ON users
  FOR ALL
  USING (tenant_id = current_setting('app.tenant_id')::int);

// æŸ¥è¯¢æ—¶è‡ªåŠ¨è¿‡æ»¤
SET app.tenant_id = 123;
SELECT * FROM users;  -- åªè¿”å›tenant_id=123çš„æ•°æ®

// MongoDBç§Ÿæˆ·éš”ç¦»
db.users.find({ tenantId: ObjectId(tenantId) });
db.users.createIndex({ tenantId: 1 });
*/
```

**é¢è¯•è¿½é—®**ï¼š
1. **å¦‚ä½•é˜²æ­¢è·¨ç§Ÿæˆ·æ•°æ®è®¿é—®ï¼Ÿ**
   - åç«¯RLSï¼ˆRow Level Securityï¼‰
   - APIå±‚å¼ºåˆ¶æ ¡éªŒtenant_id
   - æ•°æ®åº“éš”ç¦»ï¼šç‹¬ç«‹æ•°æ®åº“ vs å…±äº«æ•°æ®åº“

2. **ç§Ÿæˆ·æ•°æ®å¦‚ä½•è¿ç§»ï¼Ÿ**
   - å¯¼å‡º/å¯¼å…¥å·¥å…·
   - è·¨ç§Ÿæˆ·å¤åˆ¶åŠŸèƒ½
   - æ•°æ®è„±æ•å¤„ç†

---

#### é¢è¯•é—®é¢˜ 3ï¼šå¦‚ä½•é›†æˆStripeå®ç°è®¢é˜…è®¡è´¹ï¼Ÿ

**SaaSå¹³å°æ ¸å¿ƒåŠŸèƒ½**ï¼Œè€ƒå¯Ÿæ”¯ä»˜é›†æˆèƒ½åŠ›ã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== 1. Stripeåˆå§‹åŒ– =====
// lib/stripe.ts
import { loadStripe } from '@stripe/stripe-js';

export const stripePromise = loadStripe(
  import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY
);

// ===== 2. åˆ›å»ºæ”¯ä»˜ä¼šè¯ =====
// composables/useSubscription.ts
import { ref } from 'vue';
import { stripePromise } from '@/lib/stripe';
import { api } from '@/utils/request';

export function useSubscription() {
  const loading = ref(false);

  // å‡çº§è®¢é˜…
  const upgradeSubscription = async (
    planId: string,
    successUrl: string,
    cancelUrl: string
  ) => {
    loading.value = true;

    try {
      // 1. åˆ›å»ºStripe Checkout Session
      const { data } = await api.post('/subscription/checkout', {
        planId,
        successUrl: `${window.location.origin}${successUrl}?session_id={CHECKOUT_SESSION_ID}`,
        cancelUrl: `${window.location.origin}${cancelUrl}`,
      });

      // 2. è·³è½¬åˆ°Stripe Checkouté¡µé¢
      const stripe = await stripePromise;
      const { error } = await stripe.redirectToCheckout({
        sessionId: data.sessionId
      });

      if (error) {
        console.error('Stripeé”™è¯¯:', error);
        ElMessage.error('æ”¯ä»˜è·³è½¬å¤±è´¥');
      }

    } catch (error) {
      console.error('è®¢é˜…å¤±è´¥:', error);
      ElMessage.error('è®¢é˜…å¤±è´¥ï¼Œè¯·é‡è¯•');
    } finally {
      loading.value = false;
    }
  };

  // å–æ¶ˆè®¢é˜…
  const cancelSubscription = async () => {
    loading.value = true;

    try {
      await api.post('/subscription/cancel');
      ElMessage.success('è®¢é˜…å·²å–æ¶ˆ');

      // åˆ·æ–°è®¢é˜…çŠ¶æ€
      await fetchSubscription();
    } catch (error) {
      ElMessage.error('å–æ¶ˆè®¢é˜…å¤±è´¥');
    } finally {
      loading.value = false;
    }
  };

  return {
    loading,
    upgradeSubscription,
    cancelSubscription,
  };
}

// ===== 3. è®¢é˜…ç®¡ç†é¡µé¢ =====
<!-- pages/subscription.vue -->
<template>
  <div class="subscription">
    <!-- å½“å‰å¥—é¤ -->
    <el-card v-if="currentPlan">
      <h2>å½“å‰å¥—é¤ï¼š{{ currentPlan.name }}</h2>
      <p class="price">Â¥{{ currentPlan.price }}/æœˆ</p>

      <!-- åŠŸèƒ½åˆ—è¡¨ -->
      <ul class="features">
        <li v-for="feature in currentPlan.features" :key="feature">
          âœ“ {{ feature }}
        </li>
      </ul>

      <!-- ä½¿ç”¨é‡ç»Ÿè®¡ -->
      <div class="usage">
        <h3>ä½¿ç”¨é‡ç»Ÿè®¡</h3>

        <!-- ç”¨æˆ·æ•° -->
        <el-progress
          :percentage="userUsagePercentage"
          :status="isUserOverLimit ? 'exception' : 'success'"
        >
          <template #default="{ percentage }">
            {{ usage.users }} / {{ currentPlan.limits.users }} ç”¨æˆ·
          </template>
        </el-progress>

        <!-- å­˜å‚¨ç©ºé—´ -->
        <el-progress
          :percentage="storageUsagePercentage"
          :status="isStorageOverLimit ? 'exception' : 'success'"
        >
          <template #default="{ percentage }">
            {{ formatSize(usage.storage) }} / {{ formatSize(currentPlan.limits.storage) }}
          </template>
        </el-progress>
      </div>

      <!-- æ“ä½œæŒ‰é’® -->
      <div class="actions">
        <el-button
          v-if="!currentPlan.cancelAtPeriodEnd"
          type="danger"
          @click="handleCancel"
          :loading="cancelLoading"
        >
          å–æ¶ˆè®¢é˜…
        </el-button>

        <el-button
          v-else
          type="primary"
          @click="handleResume"
          :loading="resumeLoading"
        >
          æ¢å¤è®¢é˜…
        </el-button>

        <el-button
          type="primary"
          @click="showUpgradeDialog = true"
        >
          å‡çº§å¥—é¤
        </el-button>
      </div>
    </el-card>

    <!-- å‡çº§å¯¹è¯æ¡† -->
    <el-dialog
      v-model="showUpgradeDialog"
      title="é€‰æ‹©å¥—é¤"
      width="80%"
    >
      <div class="plans">
        <el-card
          v-for="plan in plans"
          :key="plan.id"
          :class="['plan-card', { active: selectedPlan === plan.id }]"
          @click="selectedPlan = plan.id"
        >
          <h3>{{ plan.name }}</h3>
          <p class="price">Â¥{{ plan.price }}<span class="unit">/æœˆ</span></p>

          <ul class="features">
            <li v-for="feature in plan.features" :key="feature">
              âœ“ {{ feature }}
            </li>
          </ul>

          <el-button
            :type="selectedPlan === plan.id ? 'primary' : 'default'"
            @click="handleUpgrade(plan.id)"
            :loading="upgrading"
            :disabled="selectedPlan === plan.id && isDowngrade"
          >
            {{ buttonText(plan) }}
          </el-button>
        </el-card>
      </div>
    </el-dialog>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue';
import { useSubscription } from '@/composables/useSubscription';
import { useSubscriptionStore } from '@/stores/subscription';

const subscriptionStore = useSubscriptionStore();
const { loading, upgradeSubscription, cancelSubscription } = useSubscription();

const currentPlan = ref(null);
const usage = ref({ users: 25, storage: 5 * 1024 * 1024 * 1024 });
const plans = ref([]);
const selectedPlan = ref('');
const showUpgradeDialog = ref(false);
const upgrading = ref(false);
const cancelLoading = ref(false);
const resumeLoading = ref(false);

// ä½¿ç”¨é‡ç™¾åˆ†æ¯”
const userUsagePercentage = computed(() => {
  if (!currentPlan.value) return 0;
  return Math.min(
    (usage.value.users / currentPlan.value.limits.users) * 100,
    100
  );
});

const storageUsagePercentage = computed(() => {
  if (!currentPlan.value) return 0;
  return Math.min(
    (usage.value.storage / currentPlan.value.limits.storage) * 100,
    100
  );
});

// æ˜¯å¦è¶…é™
const isUserOverLimit = computed(() => userUsagePercentage.value >= 100);
const isStorageOverLimit = computed(() => storageUsagePercentage.value >= 100);

// æŒ‰é’®æ–‡æœ¬
const buttonText = (plan: any) => {
  if (selectedPlan.value === plan.id) {
    if (isDowngrade.value) return 'é™çº§';
    return 'å½“å‰å¥—é¤';
  }
  return 'ç«‹å³è®¢é˜…';
};

// æ˜¯å¦é™çº§
const isDowngrade = computed(() => {
  if (!currentPlan.value) return false;
  const planPrices = { free: 0, pro: 29, enterprise: 99 };
  return planPrices[selectedPlan.value] < planPrices[currentPlan.value.id];
});

// æ ¼å¼åŒ–å¤§å°
const formatSize = (bytes: number) => {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB';
  if (bytes < 1024 * 1024 * 1024) return (bytes / 1024 / 1024).toFixed(2) + ' MB';
  return (bytes / 1024 / 1024 / 1024).toFixed(2) + ' GB';
};

// å‡çº§å¥—é¤
const handleUpgrade = async (planId: string) => {
  upgrading.value = true;

  await upgradeSubscription(
    planId,
    '/subscription?success=true',
    '/subscription?cancel=true'
  );
};

// å–æ¶ˆè®¢é˜…
const handleCancel = async () => {
  cancelLoading.value = true;
  await cancelSubscription();
  cancelLoading.value = false;
};

// æ¢å¤è®¢é˜…
const handleResume = async () => {
  resumeLoading.value = true;
  // å®ç°æ¢å¤é€»è¾‘
  resumeLoading.value = false;
};

onMounted(async () => {
  // åŠ è½½å½“å‰è®¢é˜…
  await subscriptionStore.fetchSubscription();
  currentPlan.value = subscriptionStore.subscription;

  // åŠ è½½å¥—é¤åˆ—è¡¨
  const { data } = await api.get('/subscription/plans');
  plans.value = data;
});
</script>

// ===== 4. Stripe Webhookå¤„ç†ï¼ˆåç«¯ï¼‰=====
/*
// server/routes/webhook.ts
import express from 'express';
import Stripe from 'stripe';

const stripe = new Stripe(process.env.STRIPE_SECRET_KEY);
const router = express.Router();

router.post('/webhook/stripe', async (req, res) => {
  const sig = req.headers['stripe-signature'];

  let event;

  try {
    // éªŒè¯Webhookç­¾å
    event = stripe.webhooks.constructEvent(
      req.body,
      sig,
      process.env.STRIPE_WEBHOOK_SECRET
    );
  } catch (err) {
    console.log('Webhookç­¾åéªŒè¯å¤±è´¥:', err.message);
    return res.status(400).send('Webhook error');
  }

  // å¤„ç†äº‹ä»¶
  switch (event.type) {
    case 'checkout.session.completed':
      const session = event.data.object;
      await handleCheckoutCompleted(session);
      break;

    case 'customer.subscription.deleted':
      const subscription = event.data.object;
      await handleSubscriptionDeleted(subscription);
      break;

    case 'invoice.payment_succeeded':
      await handlePaymentSucceeded(event.data.object);
      break;

    case 'invoice.payment_failed':
      await handlePaymentFailed(event.data.object);
      break;
  }

  res.json({ received: true });
});

async function handleCheckoutCompleted(session: any) {
  // æ›´æ–°ç”¨æˆ·è®¢é˜…çŠ¶æ€
  await updateSubscriptionStatus(session.customer, 'active');

  // å‘é€ç¡®è®¤é‚®ä»¶
  await sendConfirmationEmail(session.customer_email);
}

async function handleSubscriptionDeleted(subscription: any) {
  // æ ‡è®°è®¢é˜…ä¸ºå·²å–æ¶ˆ
  await markSubscriptionCancelled(subscription.customer);

  // å‘é€å–æ¶ˆé€šçŸ¥
  await sendCancellationNotification(subscription.customer);
}
*/
</script>

<style scoped>
.subscription {
  padding: 20px;
}

.plans {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.plan-card {
  cursor: pointer;
  transition: all 0.3s;
}

.plan-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.plan-card.active {
  border: 2px solid #409eff;
}
</style>
```

**é¢è¯•è¿½é—®**ï¼š
1. **å¦‚ä½•å¤„ç†è®¢é˜…ç»­è´¹å¤±è´¥ï¼Ÿ**
   - Webhookç›‘å¬`invoice.payment_failed`
   - å®½é™æœŸå¤„ç†ï¼ˆretryï¼‰
   - é™çº§åˆ°å…è´¹å¥—é¤
   - å‘é€æé†’é‚®ä»¶

2. **å¦‚ä½•å®ç°è¯•ç”¨å’Œé€€æ¬¾ï¼Ÿ**
   - Trial period: `subscription_trial_period_days`
   - é€€æ¬¾: `stripe.refunds.create()`
   - ä¸šåŠ¡é€»è¾‘é™åˆ¶åŠŸèƒ½

---

### é¡¹ç›®å››ï¼šå¾®å‰ç«¯ä¼ä¸šçº§åº”ç”¨å¹³å°ï¼ˆqiankunï¼‰

#### é¢è¯•é—®é¢˜ 4ï¼šqiankunå¦‚ä½•å®ç°ä¸»å­åº”ç”¨é€šä¿¡ï¼Ÿ

**2024-2025å¹´å¾®å‰ç«¯é«˜é¢‘é¢è¯•é¢˜**ï¼Œè€ƒå¯Ÿå¾®å‰ç«¯æ¶æ„è®¾è®¡èƒ½åŠ›ã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== 1. qiankunå…¨å±€çŠ¶æ€ç®¡ç† =====
// main-app/src/micro-app/global-state.ts
import { initGlobalState, MicroAppStateActions } from 'qiankun';

interface GlobalState {
  user: {
    id: string;
    name: string;
    email: string;
    roles: string[];
    permissions: string[];
  } | null;
  token: string;
  theme: 'light' | 'dark';
  language: 'zh-CN' | 'en-US';
  notifications: Notification[];
}

const initialState: GlobalState = {
  user: null,
  token: '',
  theme: 'light',
  language: 'zh-CN',
  notifications: [],
};

// åˆå§‹åŒ–å…¨å±€çŠ¶æ€
export const { onGlobalStateChange, setGlobalState } = initGlobalState(
  initialState
);

// ç›‘å¬çŠ¶æ€å˜åŒ–ï¼ˆåœ¨ä¸»åº”ç”¨ï¼‰
onGlobalStateChange((state, prev) => {
  console.log('å…¨å±€çŠ¶æ€å˜åŒ–', state, prev);

  // åŒæ­¥åˆ°ä¸»åº”ç”¨store
  if (state.user !== prev.user) {
    // ç”¨æˆ·ç™»å½•/ç™»å‡º
    if (state.user) {
      // è®¾ç½®è®¤è¯å¤´
      axios.defaults.headers.common['Authorization'] = `Bearer ${state.token}`;
    } else {
      // æ¸…é™¤è®¤è¯
      delete axios.defaults.headers.common['Authorization'];
    }
  }

  // ä¸»é¢˜å˜åŒ–
  if (state.theme !== prev.theme) {
    document.documentElement.setAttribute('data-theme', state.theme);
  }

  // è¯­è¨€å˜åŒ–
  if (state.language !== prev.language) {
    i18n.global.locale.value = state.language;
  }
}, true);

// ===== 2. ä¸»åº”ç”¨æä¾›Actionsï¼ˆæ–¹å¼1ï¼‰=====
// main-app/src/micro-app/actions.ts
export const microActions = {
  // ç”¨æˆ·ç›¸å…³
  getUserInfo() {
    return globalState.user;
  },

  updateUser(user: Partial<User>) {
    // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
    const updatedUser = { ...globalState.user, ...user };
    setGlobalState({ user: updatedUser });
    return updatedUser;
  },

  // æƒé™ç›¸å…³
  hasPermission(permission: string) {
    return globalState.user?.permissions?.includes(permission) || false;
  },

  hasRole(role: string) {
    return globalState.user?.roles?.includes(role) || false;
  },

  // ä¸»é¢˜ç›¸å…³
  setTheme(theme: 'light' | 'dark') {
    setGlobalState({ theme });
  },

  // UIäº¤äº’
  showMessage(message: { type: string; content: string }) {
    ElMessage({
      type: message.type as any,
      message: message.content,
      duration: 3000,
    });
  },

  showNotification(notification: Notification) {
    const notifications = [...globalState.notifications];
    notifications.push({
      ...notification,
      id: Date.now(),
      read: false,
    });
    setGlobalState({ notifications });
  },

  // è·¯ç”±ç›¸å…³
  navigate(path: string) {
    window.history.pushState({}, '', path);
  },

  // æ•°æ®è¯·æ±‚
  async fetchData(api: string, params?: any) {
    const { data } = await axios.get(api, { params });
    return data;
  },
};

// å°†actionsæŒ‚è½½åˆ°window
window.microActions = microActions;

// ===== 3. å­åº”ç”¨è°ƒç”¨ä¸»åº”ç”¨ï¼ˆæ–¹å¼1ï¼‰=====
// sub-app/src/utils/parent.ts
export function callParent<T = any>(
  action: string,
  ...args: any[]
): T | null {
  if (window.__POWERED_BY_QIANKUN__) {
    const actions = window.parent.microActions;
    if (actions && actions[action]) {
      return actions[action](...args);
    }
  }
  return null;
}

// ä½¿ç”¨ç¤ºä¾‹
export function getUserInfo() {
  return callParent('getUserInfo');
}

export function hasPermission(permission: string) {
  return callParent('hasPermission', permission);
}

export function showMessage(type: string, content: string) {
  return callParent('showMessage', { type, content });
}

// ===== 4. å­åº”ç”¨ä½¿ç”¨å…¨å±€çŠ¶æ€ï¼ˆæ–¹å¼2ï¼‰=====
// sub-app/src/main.ts
import { createApp } from 'vue';
import App from './App.vue';
import { qiankunWindow } from './utils/qiankun';

let app: any;

export async function mount(props) {
  app = createApp(App);

  // æ³¨å…¥qiankunæä¾›çš„props
  app.provide('globalState', props.onGlobalStateChange);
  app.provide('setGlobalState', props.setGlobalState);

  // ä½¿ç”¨å…¨å±€çŠ¶æ€
  const [globalState, setGlobalState] = props.getGlobalState?.() || [{}];

  // ç›‘å¬çŠ¶æ€å˜åŒ–
  props.onGlobalStateChange((state, prev) => {
    console.log('å­åº”ç”¨æ”¶åˆ°çŠ¶æ€å˜åŒ–', state, prev);
  });

  app.mount(props.container ? props.container.querySelector('#app') : '#app');
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
// const globalState = inject('globalState');
// const setGlobalState = inject('setGlobalState');

// ===== 5. å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆæ–¹å¼3ï¼šäº‹ä»¶æ€»çº¿ï¼‰=====
// utils/eventBus.ts
class EventBus {
  private events: Map<string, Set<Function>> = new Map();

  on(event: string, callback: Function) {
    if (!this.events.has(event)) {
      this.events.set(event, new Set());
    }
    this.events.get(event)!.add(callback);
  }

  off(event: string, callback: Function) {
    const callbacks = this.events.get(event);
    if (callbacks) {
      callbacks.delete(callback);
    }
  }

  emit(event: string, ...args: any[]) {
    const callbacks = this.events.get(event);
    if (callbacks) {
      callbacks.forEach(callback => callback(...args));
    }
  }
}

const eventBus = new EventBus();

// ä¸»åº”ç”¨
eventBus.on('user:login', (user) => {
  console.log('ç”¨æˆ·ç™»å½•', user);
});

// å­åº”ç”¨
eventBus.emit('user:login', userInfo);

// ===== 6. localStorageå…±äº«ï¼ˆæ–¹å¼4ï¼‰=====
// æ³¨æ„ï¼šåªèƒ½ç”¨äºç®€å•æ•°æ®ï¼Œä¸è¦ç”¨äºæ•æ„Ÿä¿¡æ¯

// ä¸»åº”ç”¨è®¾ç½®
localStorage.setItem('theme', 'dark');

// å­åº”ç”¨ç›‘å¬
window.addEventListener('storage', (e) => {
  if (e.key === 'theme') {
    console.log('ä¸»é¢˜å˜åŒ–', e.newValue);
  }
});

// ===== 7. è‡ªå®šä¹‰äº‹ä»¶é€šä¿¡ï¼ˆæ–¹å¼5ï¼‰=====
// ä¸»åº”ç”¨
window.dispatchEvent(new CustomEvent('micro-app:message', {
  detail: { type: 'update', data: { count: 1 } }
}));

// å­åº”ç”¨
window.addEventListener('micro-app:message', (e: CustomEvent) => {
  console.log('æ”¶åˆ°æ¶ˆæ¯', e.detail);
});
```

**é¢è¯•è¿½é—®**ï¼š
1. **å¦‚ä½•é¿å…å¾ªç¯ä¾èµ–ï¼Ÿ**
   - æ˜ç¡®é€šä¿¡æ–¹å‘ï¼šä¸»â†’å­æˆ–å­â†’ä¸»
   - ä½¿ç”¨äº‹ä»¶æ€»çº¿è§£è€¦
   - æ–‡æ¡£åŒ–æ‰€æœ‰é€šä¿¡æ¥å£

2. **å¦‚ä½•å¤„ç†é€šä¿¡å¤±è´¥çš„æƒ…å†µï¼Ÿ**
   - é‡è¯•æœºåˆ¶
   - é™çº§æ–¹æ¡ˆï¼ˆä½¿ç”¨localStorageï¼‰
   - é”™è¯¯è¾¹ç•Œæ•è·

---

### é¡¹ç›®äº”ï¼šåŸºäºMicroAppçš„å¾®ç”µå•†å¹³å°

#### é¢è¯•é—®é¢˜ 5ï¼šMicroAppç›¸æ¯”qiankunæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ

**2024-2025å¹´å¾®å‰ç«¯å¯¹æ¯”é¢è¯•é¢˜**ï¼Œè€ƒå¯ŸæŠ€æœ¯é€‰å‹èƒ½åŠ›ã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== MicroApp vs qiankun å¯¹æ¯” =====

| ç‰¹æ€§                | MicroAppï¼ˆäº¬ä¸œï¼‰           | qiankunï¼ˆé˜¿é‡Œï¼‰            |
|---------------------|---------------------------|---------------------------|
| **æ¥å…¥æ–¹å¼**         | é›¶ä¾µå…¥                    | éœ€è¦å¯¼å‡ºç”Ÿå‘½å‘¨æœŸ           |
| **å®ç°åŸç†**         | Web Components           | HTML Entry + JS Sandbox  |
| **æ ·å¼éš”ç¦»**         | ShadowDOMè‡ªåŠ¨éš”ç¦»         | scopedæ ·å¼                |
| **JSæ²™ç®±**           | å®Œæ•´æ²™ç®±                  | Proxyæ²™ç®±                 |
| **æ€§èƒ½**             | æ›´å¿«ï¼ˆçº¦å¿«40%ï¼‰           | è¾ƒæ…¢                      |
| **ä½“ç§¯**             | çº¦20KB                    | çº¦50KB                     |
| **å­¦ä¹ æ›²çº¿**         | æ›´ç®€å•                    | ç›¸å¯¹å¤æ‚                  |
| **æµè§ˆå™¨å…¼å®¹**       | Chrome/Edge/Firefox       | æ›´å¥½çš„å…¼å®¹æ€§              |
| **ç¤¾åŒºæ”¯æŒ**         | å¿«é€Ÿå¢é•¿                  | æˆç†Ÿç¨³å®š                  |
| **ç”Ÿäº§éªŒè¯**         | äº¬ä¸œã€ç¾å›¢                | é˜¿é‡Œã€å­—èŠ‚                 |

// ===== MicroAppé›¶ä¾µå…¥æ¥å…¥ç¤ºä¾‹ =====

<!-- ä¸»åº”ç”¨ -->
<template>
  <!-- åªéœ€æ·»åŠ micro-appæ ‡ç­¾ï¼Œå­åº”ç”¨æ— éœ€ä»»ä½•ä¿®æ”¹ï¼ -->
  <micro-app
    name="product"
    url="http://localhost:3002"
    iframe
    keep-alive
    shadowDOM
    @datachange="handleDataChange"
    @created="handleAppCreated"
  />
</template>

<script setup lang="ts">
// å¤„ç†æ•°æ®å˜åŒ–
const handleDataChange = (e: CustomEvent) => {
  console.log('æ”¶åˆ°å­åº”ç”¨æ•°æ®', e.detail);
};

// åº”ç”¨åˆ›å»ºå®Œæˆ
const handleAppCreated = (e: CustomEvent) => {
  console.log('å­åº”ç”¨å·²åŠ è½½', e.detail);
};
</script>

<!-- å­åº”ç”¨ï¼ˆå®Œå…¨æ­£å¸¸çš„Vue3åº”ç”¨ï¼Œæ— éœ€ä»»ä½•ç‰¹æ®Šå¤„ç†ï¼‰-->
<script>
import { createApp } from 'vue';
import App from './App.vue';
import router from './router';

const app = createApp(App);
app.use(router);
app.mount('#app');

// å°±è¿™æ ·ï¼æ— éœ€å¯¼å‡ºç”Ÿå‘½å‘¨æœŸã€æ— éœ€ä¿®æ”¹webpacké…ç½®ï¼
</script>

// ===== MicroAppæ•°æ®é€šä¿¡ =====

// ä¸»åº”ç”¨å‘å­åº”ç”¨å‘é€æ•°æ®
const microAppElement = document.querySelector('micro-app[name="product"]');

microAppElement.dispatch({
  eventName: 'updateData',
  payload: { count: 100 }
});

// å­åº”ç”¨æ¥æ”¶æ•°æ®ï¼ˆåœ¨å­åº”ç”¨ä¸­ï¼‰
window.addEventListener('datachange', (e: CustomEvent) => {
  const { eventName, payload } = e.detail;
  console.log('æ”¶åˆ°æ•°æ®:', eventName, payload);
});

// å­åº”ç”¨å‘ä¸»åº”ç”¨å‘é€æ•°æ®
window.dispatchEvent(new CustomEvent('dispatch', {
  detail: {
    eventName: 'sendMessage',
    payload: { message: 'Hello from sub-app' }
  }
}));

// ===== MicroAppæ ·å¼éš”ç¦» =====

<!-- æ–¹å¼1ï¼šShadowDOMï¼ˆæ¨èï¼‰-->
<micro-app
  name="product"
  url="http://localhost:3002"
  shadowDOM
></micro-app>

<!-- æ–¹å¼2ï¼šiframeæ²™ç®± -->
<micro-app
  name="product"
  url="http://localhost:3002"
  iframe
  shadowDOM
></micro-app>

<!-- ShadowDOMç‰¹ç‚¹ -->
/*
âœ… å®Œå…¨éš”ç¦»æ ·å¼
âœ… éšè—å†…éƒ¨DOM
âœ… è‡ªåŠ¨ä½œç”¨åŸŸCSS

âš ï¸ å…¨å±€æ ·å¼æ— æ³•ç©¿é€
âš ï¸ æŸäº›äº‹ä»¶å¤„ç†å—é™
*/

// ===== MicroAppç”Ÿå‘½å‘¨æœŸç®¡ç† =====

// ä¸»åº”ç”¨
const appElement = document.querySelector('micro-app[name="product"]');

// ç›‘å¬ç”Ÿå‘½å‘¨æœŸ
appElement.addEventListener('created', (e: CustomEvent) => {
  console.log('å­åº”ç”¨åˆ›å»º');
});

appElement.addEventListener('beforemount', (e: CustomEvent) => {
  console.log('å­åº”ç”¨å³å°†æŒ‚è½½');
});

appElement.addEventListener('mounted', (e: CustomEvent) => {
  console.log('å­åº”ç”¨å·²æŒ‚è½½');
});

appElement.addEventListener('unmount', (e: CustomEvent) => {
  console.log('å­åº”ç”¨å¸è½½');
});

// æ‰‹åŠ¨æ§åˆ¶ç”Ÿå‘½å‘¨æœŸ
appElement.start();  // å¯åŠ¨
appElement.unmount(); // å¸è½½

// ===== MicroAppé¢„åŠ è½½ =====

// é…ç½®é¢„åŠ è½½
document.querySelectorAll('micro-app').forEach((app: any) => {
  // é¢„åŠ è½½å­åº”ç”¨
  app.addEventListener('created', () => {
    console.log(`${app.name} é¢„åŠ è½½å®Œæˆ`);
  });
});

// ===== MicroAppè·¯ç”±ç®¡ç† =====

// ä¸»åº”ç”¨æ§åˆ¶å­åº”ç”¨è·¯ç”±
const appElement = document.querySelector('micro-app[name="product"]');

// è·³è½¬åˆ°å­åº”ç”¨æŒ‡å®šè·¯ç”±
appElement.router.push({ path: '/detail/123' });

// ç›‘å¬å­åº”ç”¨è·¯ç”±å˜åŒ–
appElement.addEventListener('routechange', (e: CustomEvent) => {
  console.log('å­åº”ç”¨è·¯ç”±å˜åŒ–:', e.detail);
});
```

**é¢è¯•è¿½é—®**ï¼š
1. **ä»€ä¹ˆåœºæ™¯é€‰æ‹©MicroAppï¼Ÿ**
   - å­åº”ç”¨æ— æ³•ä¿®æ”¹ï¼ˆç¬¬ä¸‰æ–¹åº”ç”¨ï¼‰
   - éœ€è¦å¿«é€Ÿæ¥å…¥
   - å¯¹æ€§èƒ½è¦æ±‚é«˜
   - å›¢é˜ŸæŠ€æœ¯æ ˆä¸ç†Ÿæ‚‰å¾®å‰ç«¯

2. **MicroAppçš„å±€é™æ€§æ˜¯ä»€ä¹ˆï¼Ÿ**
   - æµè§ˆå™¨å…¼å®¹æ€§ï¼ˆä¸æ”¯æŒIEï¼‰
   - ShadowDOMçš„æ ·å¼é™åˆ¶
   - è°ƒè¯•ç›¸å¯¹å¤æ‚
   - ç”Ÿæ€ç›¸å¯¹è¾ƒæ–°

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šReact 19 & Next.js 15 æ ¸å¿ƒé¢è¯•é¢˜

### é«˜é¢‘å¿…é—®ï¼šReact 19æ–°ç‰¹æ€§

**2025å¹´æœ€æ–°é¢è¯•é¢˜**ï¼Œè€ƒå¯ŸReact 19æ ¸å¿ƒèƒ½åŠ›ã€‚

**é—®é¢˜**ï¼šReact 19æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼ŸActions APIå’ŒuseOptimisticæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== React 19æ–°ç‰¹æ€§è¯¦è§£ =====

// ===== 1. Actions APIï¼ˆè¡¨å•å¤„ç†ï¼‰=====
// ä¹‹å‰çš„æ–¹å¼ï¼ˆReact 18ï¼‰
function TaskForm() {
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleSubmit = async (formData: FormData) => {
    setIsSubmitting(true);
    try {
      await createTask(formData);
    } finally {
      setIsSubmitting(false);
    }
  };

  return <form onSubmit={handleSubmit}>...</form>;
}

// React 19 Actionsï¼ˆæ¨èï¼‰
function TaskForm() {
  const [isPending, startTransition] = useTransition();

  const handleSubmit = (formData: FormData) => {
    startTransition(async () => {
      await createTask(formData); // è‡ªåŠ¨å¤„ç†pendingçŠ¶æ€
    });
  };

  return (
    <form action={handleSubmit}>
      <input name="title" />
      <button disabled={isPending}>
        {isPending ? 'æäº¤ä¸­...' : 'æäº¤'}
      </button>
    </form>
  );
}

// ===== 2. useOptimisticï¼ˆä¹è§‚æ›´æ–°ï¼‰=====
function TaskList() {
  const [tasks, setTasks] = useState([
    { id: 1, title: 'å­¦ä¹ React 19', completed: false }
  ]);

  const [optimisticTasks, addOptimisticTask] = useOptimistic(
    tasks,
    (state, newTask) => [...state, newTask]
  );

  const addTask = async (title: string) => {
    // 1. ç«‹å³æ›´æ–°UIï¼ˆä¹è§‚æ›´æ–°ï¼‰
    addOptimisticTask({
      id: Date.now(),
      title,
      completed: false,
      optimistic: true // æ ‡è®°ä¸ºä¹è§‚æ›´æ–°
    });

    // 2. åå°æäº¤
    try {
      const newTask = await api.post('/tasks', { title });

      // 3. æäº¤æˆåŠŸï¼Œæ›¿æ¢ä¹è§‚æ•°æ®
      setTasks(prev => [...prev, newTask]);
    } catch (error) {
      // 4. æäº¤å¤±è´¥ï¼Œå›æ»š
      console.error('æ·»åŠ ä»»åŠ¡å¤±è´¥', error);
    }
  };

  return (
    <div>
      {optimisticTasks.map(task => (
        <div key={task.id}>
          <input
            type="checkbox"
            checked={task.completed}
            disabled={task.optimistic}
          />
          <span>{task.title}</span>
          {task.optimistic && <span>ï¼ˆä¿å­˜ä¸­...ï¼‰</span>}
        </div>
      ))}

      <button onClick={() => addTask('æ–°ä»»åŠ¡')}>
        æ·»åŠ ä»»åŠ¡
      </button>
    </div>
  );
}

// ===== 3. use() Hookï¼ˆè¯»å–Promiseï¼‰=====
function UserProfile({ userIdPromise }: {
  userIdPromise: Promise<string>
}) {
  // React 19ï¼šç›´æ¥ä½¿ç”¨use()è¯»å–Promise
  const userId = use(userIdPromise);

  return <div>User ID: {userId}</div>;
}

// ç­‰ä»·äºReact 18çš„Suspense + useEffect
/*
function UserProfile({ userIdPromise }) {
  const [userId, setUserId] = useState<string | null>(null);

  useEffect(() => {
    userIdPromise.then(setUserId);
  }, [userIdPromise]);

  if (!userId) return <div>Loading...</div>;
  return <div>User ID: {userId}</div>;
}
*/

// ===== 4. refä½œä¸ºpropï¼ˆç®€åŒ–refä¼ é€’ï¼‰=====
// React 18
function Parent() {
  const inputRef = useRef<HTMLInputElement>(null);

  return <Child inputRef={inputRef} />;
}

function Child({ inputRef }) {
  return <input ref={inputRef} />;
}

// React 19ï¼ˆæ›´ç®€æ´ï¼‰
function Parent() {
  const inputRef = useRef<HTMLInputElement>(null);

  return <Child ref={inputRef} />;
}

function Child({ ref }: { ref: Ref<HTMLInputElement> }) {
  return <input ref={ref} />;
}

// ===== 5. <Context> ä½œä¸ºproviderï¼ˆç®€åŒ–Contextä½¿ç”¨ï¼‰=====
// React 18
const ThemeContext = createContext('light');

function App() {
  return (
    <ThemeContext.Provider value="dark">
      <Child />
    </ThemeContext.Provider>
  );
}

// React 19
function App() {
  return (
    <ThemeContext value="dark">
      <Child />
    </ThemeContext>
  );
}

// ===== 6. useTransitionï¼ˆæ ‡è®°éç´§æ€¥æ›´æ–°ï¼‰=====
function SearchResults({ query }) {
  const [isPending, startTransition] = useTransition();
  const [results, setResults] = useState([]);

  const handleSearch = (searchQuery: string) => {
    // æ ‡è®°ä¸ºéç´§æ€¥æ›´æ–°ï¼ŒReactä¼šä¼˜å…ˆå¤„ç†å…¶ä»–æ›´æ–°
    startTransition(() => {
      const filtered = results.filter(item =>
        item.title.includes(searchQuery)
      );
      setResults(filtered);
    });
  };

  return (
    <div>
      <input onChange={(e) => handleSearch(e.target.value)} />
      {isPending && <div>æœç´¢ä¸­...</div>}
      <ul>
        {results.map(item => <li key={item.id}>{item.title}</li>)}
      </ul>
    </div>
  );
}
```

**é¢è¯•è¿½é—®**ï¼š
1. **Actionså’Œä¼ ç»Ÿäº‹ä»¶å¤„ç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
   - è‡ªåŠ¨pendingçŠ¶æ€ç®¡ç†
   - é”™è¯¯å¤„ç†å†…ç½®
   - æ›´ç®€æ´çš„ä»£ç 
   - ä¸Suspenseé…åˆæ›´å¥½

2. **useOptimisticå¦‚ä½•å¤„ç†é”™è¯¯å›æ»šï¼Ÿ**
   - catchå—ä¸­å›æ»šçŠ¶æ€
   - é”™è¯¯æç¤º
   - é‡è¯•æœºåˆ¶

---

### é¡¹ç›®å…­ï¼šReact 19 ä¼ä¸šçº§ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

#### é¢è¯•é—®é¢˜ 6ï¼šå¦‚ä½•ä½¿ç”¨Zustandç®¡ç†çŠ¶æ€ï¼Ÿ

**2025å¹´çŠ¶æ€ç®¡ç†é«˜é¢‘é¢è¯•é¢˜**ï¼Œè€ƒå¯Ÿç°ä»£çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== Zustandæ ¸å¿ƒä½¿ç”¨ =====

// ===== 1. åˆ›å»ºStore =====
// stores/taskStore.ts
import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';

interface Task {
  id: string;
  title: string;
  completed: boolean;
  assignee?: string;
  dueDate?: Date;
}

interface Filter {
  status: 'all' | 'active' | 'completed';
  assignee?: string;
  search?: string;
}

interface TaskStore {
  // çŠ¶æ€
  tasks: Task[];
  filter: Filter;

  // åŒæ­¥actions
  setTasks: (tasks: Task[]) => void;
  setFilter: (filter: Partial<Filter>) => void;

  // å¼‚æ­¥actions
  fetchTasks: () => Promise<void>;
  createTask: (task: Omit<Task, 'id'>) => Promise<void>;
  updateTask: (id: string, updates: Partial<Task>) => Promise<void>;
  deleteTask: (id: string) => Promise<void>;

  // getters
  filteredTasks: () => Task[];
  completedCount: () => number;
}

export const useTaskStore = create<TaskStore>()(
  devtools(
    persist(
      (set, get) => ({
        // åˆå§‹çŠ¶æ€
        tasks: [],
        filter: {
          status: 'all',
        },

        // åŒæ­¥actions
        setTasks: (tasks) => set({ tasks }, false, 'setTasks'),

        setFilter: (filter) => set(
          (state) => ({ filter: { ...state.filter, ...filter } }),
          false,
          'setFilter'
        ),

        // å¼‚æ­¥actions
        fetchTasks: async () => {
          const { data } = await api.get('/tasks');
          set({ tasks: data }, false, 'fetchTasks');
        },

        createTask: async (task) => {
          const { data } = await api.post('/tasks', task);
          set((state) => ({
            tasks: [...state.tasks, data]
          }), false, 'createTask');
        },

        updateTask: async (id, updates) => {
          const { data } = await api.patch(`/tasks/${id}`, updates);
          set((state) => ({
            tasks: state.tasks.map(task =>
              task.id === id ? { ...task, ...data } : task
            )
          }), false, 'updateTask');
        },

        deleteTask: async (id) => {
          await api.delete(`/tasks/${id}`);
          set((state) => ({
            tasks: state.tasks.filter(task => task.id !== id)
          }), false, 'deleteTask');
        },

        // getters
        filteredTasks: () => {
          const { tasks, filter } = get();

          return tasks.filter(task => {
            // çŠ¶æ€è¿‡æ»¤
            if (filter.status === 'active' && task.completed) return false;
            if (filter.status === 'completed' && !task.completed) return false;

            // è´Ÿè´£äººè¿‡æ»¤
            if (filter.assignee && task.assignee !== filter.assignee) {
              return false;
            }

            // æœç´¢è¿‡æ»¤
            if (filter.search && !task.title.includes(filter.search)) {
              return false;
            }

            return true;
          });
        },

        completedCount: () => {
          const { tasks } = get();
          return tasks.filter(t => t.completed).length;
        },
      }),
      {
        name: 'task-storage',
        // åªæŒä¹…åŒ–ç‰¹å®šå­—æ®µ
        partialize: (state) => ({
          filter: state.filter
        }),
      }
    )
  )
);

// ===== 2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ =====
// components/TaskList.tsx
function TaskList() {
  // æ–¹å¼1ï¼šä½¿ç”¨æ•´ä¸ªstore
  const { tasks, filter, setFilter, fetchTasks } = useTaskStore();

  // æ–¹å¼2ï¼šé€‰æ‹©ç‰¹å®šå­—æ®µï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
  const filteredTasks = useTaskStore(state => state.filteredTasks());
  const completedCount = useTaskStore(state => state.completedCount());

  // æ–¹å¼3ï¼šä½¿ç”¨actions
  const { createTask, deleteTask } = useTaskStore.getState();

  useEffect(() => {
    fetchTasks();
  }, []);

  return (
    <div>
      {/* è¿‡æ»¤å™¨ */}
      <Filter value={filter} onChange={setFilter} />

      {/* ç»Ÿè®¡ */}
      <p>å·²å®Œæˆï¼š{completedCount} / {filteredTasks.length}</p>

      {/* ä»»åŠ¡åˆ—è¡¨ */}
      <ul>
        {filteredTasks.map(task => (
          <TaskItem
            key={task.id}
            task={task}
            onDelete={deleteTask}
          />
        ))}
      </ul>
    </div>
  );
}

// ===== 3. TypeScriptç±»å‹å®‰å…¨ =====
// stores/taskStore.tsï¼ˆç±»å‹å®‰å…¨ç‰ˆæœ¬ï¼‰
import { create } from 'zustand';

// åˆ›å»ºå¸¦ç±»å‹çš„hooks
export const useTaskStore = create<TaskStore>((set, get) => ({
  tasks: [],
  filter: { status: 'all' },

  setTasks: (tasks) => set({ tasks }),
  setFilter: (filter) => set({ filter }),

  // ç±»å‹å®‰å…¨çš„actions
  createTask: async (task: Omit<Task, 'id'>) => {
    const { data } = await api.post<Task>('/tasks', task);
    set((state) => ({
      tasks: [...state.tasks, data]
    }));
    return data;
  },
}));

// ===== 4. ä¸­é—´ä»¶ä½¿ç”¨ =====
import { devtools, persist } from 'zustand/middleware';

const useStore = create(
  devtools(
    persist(
      (set, get) => ({
        // storeçŠ¶æ€
      }),
      {
        name: 'app-storage', // localStorage key
        // éƒ¨åˆ†æŒä¹…åŒ–
        partialize: (state) => ({
          user: state.user,
          settings: state.settings,
          // ä¸æŒä¹…åŒ–ä¸´æ—¶æ•°æ®
          // temp: state.temp
        }),
      }
    )
  )
);

// ===== 5. storeç»„åˆï¼ˆæ‹†åˆ†storeï¼‰=====
// stores/user.ts
export const createUserSlice = (set: any, get: any) => ({
  user: null,
  login: async (credentials) => {
    const { data } = await api.post('/auth/login', credentials);
    set({ user: data });
  },
  logout: () => set({ user: null }),
});

// stores/task.ts
export const createTaskSlice = (set: any, get: any) => ({
  tasks: [],
  fetchTasks: async () => {
    const { data } = await api.get('/tasks');
    set({ tasks: data });
  },
});

// stores/index.tsï¼ˆç»„åˆï¼‰
export const useAppStore = create((set, get) => ({
  ...createUserSlice(set, get),
  ...createTaskSlice(set, get),
}));

// ===== 6. Zustand vs Reduxå¯¹æ¯” =====

/*
| ç‰¹æ€§           | Zustand      | Redux Toolkit |
|----------------|-------------|---------------|
| å­¦ä¹ æ›²çº¿       | ç®€å•         | è¾ƒå¤æ‚         |
| æ ·æ¿ä»£ç        | å°‘           | å¤š            |
| TypeScript     | åŸç”Ÿæ”¯æŒ     | éœ€è¦é…ç½®       |
| DevTools        | å†…ç½®         | éœ€è¦æ’ä»¶       |
| æŒä¹…åŒ–         | å†…ç½®ä¸­é—´ä»¶   | éœ€è¦æ’ä»¶       |
| åŒ…ä½“ç§¯         | ~1KB        | ~10KB         |
| æ€§èƒ½           | æ›´å¥½         | è¾ƒå¥½          |

é€‰æ‹©å»ºè®®ï¼š
- å°å‹é¡¹ç›®ï¼šZustand
- ä¸­å‹é¡¹ç›®ï¼šZustand
- å¤§å‹å›¢é˜Ÿï¼šRedux Toolkitï¼ˆæ›´è§„èŒƒï¼‰
*/
```

**é¢è¯•è¿½é—®**ï¼š
1. **Zustandç›¸æ¯”Reduxæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ**
   - æ›´ç®€å•çš„API
   - æ›´å°‘çš„æ ·æ¿ä»£ç 
   - åŸç”ŸTypeScriptæ”¯æŒ
   - æ›´å°çš„åŒ…ä½“ç§¯
   - å†…ç½®DevToolså’ŒæŒä¹…åŒ–

2. **å¦‚ä½•å®ç°çŠ¶æ€æŒä¹…åŒ–ï¼Ÿ**
   - persistä¸­é—´ä»¶
   - partializeé€‰æ‹©æŒä¹…åŒ–å­—æ®µ
   - localStorage/sessionStorage

---

### é¡¹ç›®ä¸ƒï¼šNext.js 15 AIå†…å®¹ç”Ÿæˆå¹³å°

#### é¢è¯•é—®é¢˜ 7ï¼šNext.js 15 Server Componentså¦‚ä½•å·¥ä½œï¼Ÿ

**2025å¹´Next.jså¿…é—®é¢˜**ï¼Œè€ƒå¯ŸServer Componentsæ·±åº¦ç†è§£ã€‚

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== Next.js 15 Server Componentsè¯¦è§£ =====

// ===== 1. Server Components vs Client Components =====

// âœ… Server Componentï¼ˆé»˜è®¤ï¼‰
// app/dashboard/page.tsx
// åœ¨æœåŠ¡å™¨ä¸Šæ¸²æŸ“ï¼Œä¸å‘é€JavaScriptåˆ°å®¢æˆ·ç«¯
async function DashboardPage() {
  // âœ… å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“
  const posts = await db.post.findMany();

  // âœ… å¯ä»¥ä½¿ç”¨æœåŠ¡å™¨ç«¯API
  const data = await fetch('https://api.example.com/data', {
    cache: 'force-cache', // ç¼“å­˜ç­–ç•¥
  }).then(r => r.json());

  // âŒ ä¸èƒ½ä½¿ç”¨hooksï¼ˆuseState, useEffectç­‰ï¼‰
  // âŒ ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨APIï¼ˆwindow, documentç­‰ï¼‰

  return (
    <div>
      <h1>Dashboard</h1>
      <PostList posts={posts} />
      <DataChart data={data} />
    </div>
  );
}

// âœ… Client Componentï¼ˆéœ€è¦'use client'æŒ‡ä»¤ï¼‰
// app/components/InteractiveChart.tsx
'use client';

import { useState, useEffect } from 'react';

function InteractiveChart() {
  const [data, setData] = useState([]);

  // âœ… å¯ä»¥ä½¿ç”¨hooks
  useEffect(() => {
    fetchData().then(setData);
  }, []);

  // âœ… å¯ä»¥ä½¿ç”¨æµè§ˆå™¨API
  const handleClick = () => {
    window.alert('Clicked!');
  };

  return (
    <div onClick={handleClick}>
      <Chart data={data} />
    </div>
  );
}

// ===== 2. Server Componentsæœ€ä½³å®è·µ =====

// âœ… ä¼˜å…ˆä½¿ç”¨Server Components
// app/products/page.tsx
async function ProductsPage() {
  // 1. æ•°æ®è·å–ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰
  const products = await db.product.findMany({
    take: 20,
    orderBy: { createdAt: 'desc' }
  });

  // 2. å¯†é’¥å¤„ç†ï¼ˆæœåŠ¡å™¨ç«¯å®‰å…¨ï¼‰
  const apiKey = process.env.API_SECRET; // âœ… å®‰å…¨

  // 3. ç›´æ¥æ–‡ä»¶ç³»ç»Ÿè®¿é—®
  const file = fs.readFileSync('./data.json', 'utf-8'); // âœ… å¯ä»¥

  return (
    <div>
      <ProductList products={products} />
      <ClientComments productId="123" /> {/* éœ€è¦äº¤äº’çš„å­ç»„ä»¶ */}
    </div>
  );
}

// ===== 3. Server Actionsï¼ˆNext.js 15ç‰¹æ€§ï¼‰=====
// app/actions/tasks.ts
'use server';

import { revalidatePath } from 'next/cache';
import { z } from 'zod';

// å®šä¹‰schema
const CreateTaskSchema = z.object({
  title: z.string().min(1),
  description: z.string().optional(),
});

export async function createTask(formData: FormData) {
  // 1. éªŒè¯æ•°æ®
  const validated = CreateTaskSchema.parse({
    title: formData.get('title'),
    description: formData.get('description'),
  });

  // 2. æ•°æ®åº“æ“ä½œ
  const task = await db.task.create({
    data: validated,
  });

  // 3. é‡æ–°éªŒè¯ç¼“å­˜
  revalidatePath('/tasks');

  // 4. è¿”å›æ•°æ®
  return task;
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨Server Actions
// app/tasks/page.tsx
import { createTask } from '@/app/actions/tasks';

export default function TasksPage() {
  async function handleSubmit(formData: FormData) {
    'use server'; // æ ‡è®°ä¸ºServer Action

    const task = await createTask(formData);
    console.log('ä»»åŠ¡å·²åˆ›å»º:', task);
  }

  return (
    <form action={handleSubmit}>
      <input name="title" />
      <textarea name="description" />
      <button type="submit">åˆ›å»ºä»»åŠ¡</button>
    </form>
  );
}

// ===== 4. æµå¼å“åº”ï¼ˆStreamingï¼‰=====
// app/api/chat/route.ts
import OpenAI from 'openai';
import { StreamingTextResponse } from 'ai';

export async function POST(req: Request) {
  const { messages } = await req.json();

  const openai = new OpenAI();

  // æµå¼å“åº”
  const stream = await openai.chat.completions.create({
    model: 'gpt-4',
    messages,
    stream: true,
  });

  return new StreamingTextResponse(stream);
}

// å®¢æˆ·ç«¯ä½¿ç”¨
// app/chat/page.tsx
'use client';

import { useChat } from 'ai/react';

export default function ChatPage() {
  const { messages, input, handleInputChange, handleSubmit } = useChat({
    api: '/api/chat',
  });

  return (
    <div>
      {messages.map(message => (
        <div key={message.id}>
          {message.role}: {message.content}
        </div>
      ))}

      <form onSubmit={handleSubmit}>
        <input
          value={input}
          onChange={handleInputChange}
        />
        <button>å‘é€</button>
      </form>
    </div>
  );
}

// ===== 5. æ··åˆä½¿ç”¨Serverå’ŒClient Components =====
// app/dashboard/page.tsx
import { Suspense } from 'react';
import UserStats from '@/components/UserStats'; // Server Component
import UserChart from '@/components/UserChart'; // Client Component

async function DashboardPage() {
  // æœåŠ¡å™¨ç«¯æ•°æ®è·å–
  const user = await fetchUser();

  return (
    <div>
      <h1>æ¬¢è¿ï¼Œ{user.name}!</h1>

      {/* Server Component */}
      <UserStats userId={user.id} />

      {/* Client Componentéœ€è¦Suspenseè¾¹ç•Œ */}
      <Suspense fallback={<div>åŠ è½½ä¸­...</div>}>
        <UserChart userId={user.id} />
      </Suspense>
    </div>
  );
}

// ===== 6. Server Componentsæ€§èƒ½ä¼˜åŒ– =====

// âœ… ç¼“å­˜ç­–ç•¥
// app/products/page.tsx
export const revalidate = 3600; // æ¯å°æ—¶é‡æ–°éªŒè¯

export default async function ProductsPage() {
  // ä½¿ç”¨fetchçš„ç¼“å­˜é€‰é¡¹
  const products = await fetch('https://api.example.com/products', {
    next: {
      revalidate: 3600, // å¢é‡é™æ€å†ç”Ÿæˆ
      tags: ['products'], // æŒ‰éœ€é‡æ–°éªŒè¯
    },
  }).then(r => r.json());

  return <ProductList products={products} />;
}

// âœ… æŒ‰éœ€é‡æ–°éªŒè¯
// app/actions/revalidate.ts
'use server';

import { revalidateTag } from 'next/cache';

export async function revalidateProducts() {
  revalidateTag('products');
  revalidatePath('/products');
  return { revalidated: true };
}
```

**é¢è¯•è¿½é—®**ï¼š
1. **Server Componentsæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ**
   - å‡å°‘å®¢æˆ·ç«¯JavaScript
   - æ›´å¥½çš„SEO
   - æ›´å¿«çš„é¦–å±åŠ è½½
   - å®‰å…¨çš„æœåŠ¡å™¨ç«¯æ•°æ®å¤„ç†

2. **ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨Client Componentsï¼Ÿ**
   - éœ€è¦ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰
   - ä½¿ç”¨æµè§ˆå™¨APIï¼ˆwindow, localStorageç­‰ï¼‰
   - ä½¿ç”¨React hooksï¼ˆuseState, useEffectç­‰ï¼‰
   - éœ€è¦å®æ—¶æ•°æ®æ›´æ–°

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šNuxt 4 æ ¸å¿ƒé¢è¯•é¢˜

### é«˜é¢‘å¿…é—®ï¼šNuxt 4 SSRæ¸²æŸ“åŸç†

**é—®é¢˜**ï¼šNuxt 4çš„SSRæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ hydrationè¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ

**å‚è€ƒç­”æ¡ˆ**ï¼š

```typescript
// ===== Nuxt 4 SSRåŸç†è¯¦è§£ =====

// ===== 1. SSRæ¸²æŸ“æµç¨‹ =====
/*
æœåŠ¡ç«¯æ¸²æŸ“æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å®¢æˆ·ç«¯è¯·æ±‚é¡µé¢                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. NuxtæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚                         â”‚
â”‚    - åŒ¹é…è·¯ç”±                                  â”‚
â”‚    - è·å–æ•°æ®ï¼ˆasyncDataï¼‰                     â”‚
â”‚    - æ¸²æŸ“Vueç»„ä»¶æˆHTML                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. è¿”å›HTMLæ–‡æ¡£ç»™å®¢æˆ·ç«¯                       â”‚
â”‚    <!DOCTYPE html>                           â”‚
â”‚    <html>                                    â”‚
â”‚      <head>                                  â”‚
â”‚        <title>é¡µé¢</title>                   â”‚
â”‚        <script>window.__NUXT__=...<script> â”‚
â”‚      </head>                                 â”‚
â”‚      <body>                                  â”‚
â”‚        <div id="__nuxt">                      â”‚
â”‚          <h1>æœåŠ¡ç«¯æ¸²æŸ“çš„HTML</h1>           â”‚
â”‚        </div>                                â”‚
â”‚        <script>window.__NUXT__.push(...)...  â”‚
â”‚      </body>                                 â”‚
â”‚    </html>                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. å®¢æˆ·ç«¯åŠ è½½é¡µé¢ï¼Œæ‰§è¡ŒHydrationï¼ˆæ°´åˆï¼‰       â”‚
â”‚    - Vueæ¥ç®¡å·²æ¸²æŸ“çš„DOM                       â”‚
â”‚    - ç»„ä»¶å˜ä¸ºå¯äº¤äº’                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
*/

// ===== 2. asyncDataè·å–æ•°æ® =====
// pages/dashboard.vue
<script setup lang="ts">
// Nuxt 4ä½¿ç”¨useAsyncDataè·å–æ•°æ®
const { data: user } = await useAsyncData(
  'user',
  () => $fetch('/api/user').then(r => r.json())
);

const { data: posts } = await useAsyncData(
  'posts',
  () => $fetch('/api/posts').then(r => r.json()),
  {
    // é€‰é¡¹
    watch: [newSource()], // ç›‘å¬å˜åŒ–é‡æ–°è·å–
    server: true,        // åªåœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œ
    default: () => []    // é»˜è®¤å€¼
  }
);

// ä¹Ÿå¯ä»¥ä½¿ç”¨useFetchï¼ˆæ¨èï¼‰
const { data, pending, error, refresh } = await useFetch('/api/user', {
  // æŸ¥è¯¢å‚æ•°
  query: { id: 123 },
  // è¯·æ±‚å¤´
  headers: { 'Authorization': 'Bearer token' },
  // ç¼“å­˜
  getCachedData: (key) => useNuxtData().get(key),
  setCachedData: (key, value) => useNuxtData().set(key, value),
  // å˜æ¢æ•°æ®
  transform: (res) => res.data,
  // æ‹¦æˆªå™¨
  onRequest({ request, options }) {
    // è¯·æ±‚å‰
  },
  onResponse({ response, options }) {
    // å“åº”å
  }
});
</script>

<template>
  <div>
    <h1>æ¬¢è¿ï¼Œ{{ user?.name }}</h1>
    <div v-if="pending">åŠ è½½ä¸­...</div>
    <div v-else-if="error">é”™è¯¯ï¼š{{ error.message }}</div>
    <ul v-else>
      <li v-for="post in posts" :key="post.id">
        {{ post.title }}
      </li>
    </ul>

    <button @click="refresh()">åˆ·æ–°</button>
  </div>
</template>

// ===== 3. æœåŠ¡ç«¯API Routes =====
// server/api/users.get.ts
export default defineEventHandler(async (event) => {
  // è·å–æŸ¥è¯¢å‚æ•°
  const query = getQuery(event);

  // è·å–è¯·æ±‚å¤´
  const headers = getHeaders(event);
  const authHeader = headers.authorization;

  // è·å–è¯·æ±‚ä½“
  const body = await readBody(event);

  // æ•°æ®åº“æ“ä½œ
  const users = await prisma.user.findMany({
    where: {
      // æŸ¥è¯¢æ¡ä»¶
    },
    take: query.limit ? parseInt(query.limit as string) : 10,
  });

  // è¿”å›JSONå“åº”
  return users;
});

// server/api/users.post.ts
export default defineEventHandler(async (event) => {
  const body = await readBody(event);

  // åˆ›å»ºç”¨æˆ·
  const user = await prisma.user.create({
    data: body,
  });

  // è®¾ç½®çŠ¶æ€ç 
  setResponseStatus(event, 201);

  // è®¾ç½®å“åº”å¤´
  setResponseHeaders(event, {
    'Content-Type': 'application/json',
  });

  return user;
});

// ===== 4. æœåŠ¡ç«¯ä¸­é—´ä»¶ =====
// middleware/auth.ts
export default defineEventHandler((event) => {
  // åªå¯¹ç‰¹å®šè·¯ç”±ç”Ÿæ•ˆ
  if (!event.node?.req?.url?.startsWith('/api/protected')) {
    return;
  }

  // è·å–token
  const token = getCookie(event, 'auth_token');

  if (!token) {
    // æœªç™»å½•ï¼Œè¿”å›401
    throw createError({
      statusCode: 401,
      statusMessage: 'Unauthorized',
    });
  }

  // éªŒè¯token
  try {
    const user = await verifyToken(token);

    // å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥event.context
    event.context.user = user;
  } catch (error) {
    throw createError({
      statusCode: 401,
      statusMessage: 'Invalid token',
    });
  }
});

// ===== 5. æœåŠ¡ç«¯æ’ä»¶ =====
// server/plugins/prisma.ts
import prisma from '@/lib/prisma';

export default defineNuxtPlugin((nuxtApp) => {
  // å°†prismaå®ä¾‹æ³¨å…¥åˆ°nuxtApp
  nuxtApp.provide('prisma', prisma);
});

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
// const prisma = await useNuxtData().prisma;

// ===== 6. æ··åˆæ¸²æŸ“æ¨¡å¼ =====
// pages/index.vueï¼ˆSSRï¼‰
<script setup lang="ts">
// é»˜è®¤SSRæ¸²æŸ“
const { data } = await useAsyncData('home', () =>
  $fetch('/api/home').then(r => r.json())
);
</script>

// pages/about.vueï¼ˆSSGï¼Œé™æ€ç”Ÿæˆï¼‰
<script setup lang="ts">
// ä½¿ç”¨definePageMetaé…ç½®SSG
definePageMeta({
  title: 'About',
  description: 'About page',
});

// é™æ€æ•°æ®è·å–
const { data } = await useAsyncData('about', () =>
  $fetch('/api/about').then(r => r.json())
);
</script>

// nuxt.config.ts
export default defineNuxtConfig({
  ssr: true, // å…¨å±€SSR

  routeRules: {
    // é™æ€ç”Ÿæˆç‰¹å®šè·¯ç”±
    '/about': { isr: true },
    '/blog/**': { isr: 60 }, // ISRï¼Œæ¯60ç§’é‡æ–°ç”Ÿæˆ

    // SPAæ¨¡å¼
    '/app/**': { ssr: false },

    // SWRæ¨¡å¼ï¼ˆå…ˆæ˜¾ç¤ºç¼“å­˜ï¼Œåå°æ›´æ–°ï¼‰
    '/api/**': { cache: { maxAge: 60 } },
  },
});

// ===== 7. Hydrationä¼˜åŒ– =====
// app.vue
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>

<script setup lang="ts">
// ç›‘å¬hydration
onMounted(() => {
  console.log('Hydrationå®Œæˆ');
});

// å¤„ç†hydrationä¸åŒ¹é…
onErrorCaptured((err) => {
  if (err.message.includes('Hydration')) {
    console.error('Hydrationé”™è¯¯:', err);
    // åˆ·æ–°é¡µé¢
    reloadNuxtApp();
  }
});
</script>

// ===== 8. çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰=====
// stores/user.ts
import { defineStore } from 'pinia';

export const useUserStore = defineStore('user', {
  state: () => ({
    user: null,
    token: null,
  }),

  getters: {
    isLoggedIn: (state) => !!state.token,
    userName: (state) => state.user?.name || 'Guest',
  },

  actions: {
    async login(credentials) {
      const { data } = await $fetch('/api/auth/login', {
        method: 'POST',
        body: credentials,
      });

      this.user = data.user;
      this.token = data.token;

      // ä¿å­˜åˆ°localStorage
      localStorage.setItem('auth_token', data.token);
    },

    logout() {
      this.user = null;
      this.token = null;
      localStorage.removeItem('auth_token');
    },
  },
});
```

**é¢è¯•è¿½é—®**ï¼š
1. **SSRã€SSGã€ISRæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
   - SSRï¼šæ¯æ¬¡è¯·æ±‚éƒ½æœåŠ¡å™¨æ¸²æŸ“
   - SSGï¼šæ„å»ºæ—¶ç”Ÿæˆé™æ€HTML
   - ISRï¼šé™æ€HTML + å®šæœŸæ›´æ–°

2. **å¦‚ä½•ä¼˜åŒ–SSRæ€§èƒ½ï¼Ÿ**
   - ä½¿ç”¨SWRæ¨¡å¼
   - ç¼“å­˜ç­–ç•¥
   - å¢é‡é™æ€å†ç”Ÿæˆ
   - éƒ¨åˆ†SSR

---

## é¢è¯•æŠ€å·§æ€»ç»“

### STARæ³•åˆ™

**Situationï¼ˆæƒ…å¢ƒï¼‰**ï¼šé¡¹ç›®èƒŒæ™¯ã€ä¸šåŠ¡åœºæ™¯ã€é¡¹ç›®è§„æ¨¡
**Taskï¼ˆä»»åŠ¡ï¼‰ï¼šä½ çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆã€ç›®æ ‡æ˜¯ä»€ä¹ˆ
**Actionï¼ˆè¡ŒåŠ¨ï¼‰ï¼šä½ åšäº†ä»€ä¹ˆã€é‡‡ç”¨äº†ä»€ä¹ˆæ–¹æ¡ˆã€é‡åˆ°äº†ä»€ä¹ˆæŒ‘æˆ˜
**Resultï¼ˆç»“æœï¼‰ï¼šå–å¾—äº†ä»€ä¹ˆæˆæœã€é‡åŒ–æŒ‡æ ‡ã€ä¸šåŠ¡ä»·å€¼

### 2024-2026å¹´é«˜é¢‘è€ƒç‚¹

æ ¹æ®æœç´¢ç»“æœï¼Œä»¥ä¸‹æ˜¯å¿…é¡»æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š

**Vue3**ï¼š
- [2026 Vue3é¢è¯•é¢˜æ±‡æ€»](https://blog.csdn.net/weixin_46476460/article/details/145761361)
- [Vue3é«˜é¢‘é¢è¯•é¢˜æ€»ç»“ï¼ˆ2025ç‰ˆï¼‰](https://blog.csdn.net/weixin_63454527/article/details/146172565)
- Proxyå“åº”å¼åŸç†ã€Composition APIã€æ€§èƒ½ä¼˜åŒ–

**React 19**ï¼š
- [2025æœ€æ–°Reacté¢è¯•é¢˜](https://juejin.cn/post/7348651815759282226)
- [Reacté«˜é¢‘é¢è¯•é¢˜100é¢˜](https://zhuanlan.zhihu.com/p/1929224975224641430)
- Server Componentsã€Actions APIã€useOptimistic

**Next.js 15**ï¼š
- [2025æœ€å¥½çš„Next.jsé¢è¯•é¢˜](https://blog.csdn.net/xibaoyu2025a/article/details/148168748)
- Server Componentsã€App Routerã€Server Actions

**å¾®å‰ç«¯**ï¼š
- [2024å¹´Webå‰ç«¯æœ€æ–°10é“é«˜é¢‘Qiankunå¾®å‰ç«¯é¢è¯•é¢˜](https://blog.csdn.net/2301_82244509/article/details/138720587)
- [2025å¾®å‰ç«¯æ¡†æ¶å…¨æ™¯å¯¹æ¯”](https://www.cnblogs.com/Grewer/p/19423335)
- qiankun vs MicroAppå¯¹æ¯”ã€æ²™ç®±éš”ç¦»ã€ä¸»å­é€šä¿¡

### å¸¸è§è¿½é—®å‡†å¤‡

æ¯ä¸ªé¡¹ç›®å‡†å¤‡å¥½ä»¥ä¸‹è¿½é—®çš„å›ç­”ï¼š

1. **ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæŠ€æœ¯æ ˆï¼Ÿ**
2. **å¦‚æœé‡æ–°åšï¼Œä½ ä¼šæ€ä¹ˆæ”¹è¿›ï¼Ÿ**
3. **é¡¹ç›®ä¸­æœ€å¤§çš„æŠ€æœ¯éš¾ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ**
4. **ä½ æ˜¯å¦‚ä½•ä¼˜åŒ–æ€§èƒ½çš„ï¼Ÿ**
5. **é¡¹ç›®ä¸­è¸©è¿‡å“ªäº›å‘ï¼Ÿ**

---

**å‚è€ƒèµ„æº**ï¼š

**Vue3é¢è¯•é¢˜**ï¼š
- [2026 Vue3é¢è¯•é¢˜æ±‡æ€»](https://blog.csdn.net/weixin_46476460/article/details/145761361)
- [Vue3é«˜é¢‘é¢è¯•é¢˜æ€»ç»“ï¼ˆ2025ç‰ˆï¼‰](https://blog.csdn.net/weixin_63454527/article/details/146172565)

**React/Next.jsé¢è¯•é¢˜**ï¼š
- [2025æœ€æ–°Reacté¢è¯•é¢˜](https://juejin.cn/post/7348651815759282226)
- [2025æœ€å¥½çš„Next.jsé¢è¯•é¢˜](https://blog.csdn.net/xibaoyu2025a/article/details/148168748)

**å¾®å‰ç«¯é¢è¯•é¢˜**ï¼š
- [2024å¹´Qiankunå¾®å‰ç«¯é«˜é¢‘é¢è¯•é¢˜](https://blog.csdn.net/2301_82244509/article/details/138720587)
- [2025å¾®å‰ç«¯æ¡†æ¶å…¨æ™¯å¯¹æ¯”](https://www.cnblogs.com/Grewer/p/19423335)

---

**å°å¾å¸¦ä½ é£ç³»åˆ—æ•™ç¨‹**

**æœ€åæ›´æ–°ï¼š2026 å¹´ 2 æœˆ**
**ç‰ˆæœ¬ï¼šv2.0ï¼ˆåŸºäº14ä¸ªå®æˆ˜é¡¹ç›®ï¼‰**
**ä½œè€…ï¼šå°å¾**
**é‚®ç®±ï¼šesimonx@163.com**
